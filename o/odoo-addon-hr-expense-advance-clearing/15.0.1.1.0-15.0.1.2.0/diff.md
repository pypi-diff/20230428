# Comparing `tmp/odoo_addon_hr_expense_advance_clearing-15.0.1.1.0-py3-none-any.whl.zip` & `tmp/odoo_addon_hr_expense_advance_clearing-15.0.1.2.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,31 +1,31 @@
-Zip file size: 43216 bytes, number of entries: 29
--rw-r--r--  2.0 unx     6057 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/README.rst
--rw-r--r--  2.0 unx      107 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/__init__.py
--rw-r--r--  2.0 unx      687 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/__manifest__.py
--rw-r--r--  2.0 unx      530 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/data/advance_product.xml
--rw-r--r--  2.0 unx    13130 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/i18n/hr_expense_advance_clearing.pot
--rw-r--r--  2.0 unx      209 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/models/__init__.py
--rw-r--r--  2.0 unx     1447 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/models/account_move.py
--rw-r--r--  2.0 unx      675 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/models/account_payment.py
--rw-r--r--  2.0 unx     1024 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/models/hr_employee_base.py
--rw-r--r--  2.0 unx     4138 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/models/hr_expense.py
--rw-r--r--  2.0 unx     8730 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/models/hr_expense_sheet.py
--rw-r--r--  2.0 unx      539 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      139 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      655 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx     1860 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/readme/USAGE.rst
--rw-r--r--  2.0 unx     9455 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/static/description/icon.png
--rw-r--r--  2.0 unx    16246 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/static/description/index.html
--rw-r--r--  2.0 unx      112 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/tests/__init__.py
--rw-r--r--  2.0 unx    14868 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/tests/test_hr_expense_advance_clearing.py
--rw-r--r--  2.0 unx     1265 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/views/account_payment_view.xml
--rw-r--r--  2.0 unx      750 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/views/hr_employee_public_views.xml
--rw-r--r--  2.0 unx      787 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/views/hr_employee_views.xml
--rw-r--r--  2.0 unx    11491 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/views/hr_expense_views.xml
--rw-r--r--  2.0 unx      104 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/wizard/__init__.py
--rw-r--r--  2.0 unx     6314 b- defN 23-Mar-09 08:12 odoo/addons/hr_expense_advance_clearing/wizard/account_payment_register.py
--rw-r--r--  2.0 unx     6605 b- defN 23-Mar-09 08:12 odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-09 08:12 odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Mar-09 08:12 odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3455 b- defN 23-Mar-09 08:12 odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/RECORD
-29 files, 111476 bytes uncompressed, 37252 bytes compressed:  66.6%
+Zip file size: 43164 bytes, number of entries: 29
+-rw-r--r--  2.0 unx     6057 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/README.rst
+-rw-r--r--  2.0 unx      107 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/__init__.py
+-rw-r--r--  2.0 unx      687 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/__manifest__.py
+-rw-r--r--  2.0 unx      530 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/data/advance_product.xml
+-rw-r--r--  2.0 unx    13130 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/i18n/hr_expense_advance_clearing.pot
+-rw-r--r--  2.0 unx      209 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/models/__init__.py
+-rw-r--r--  2.0 unx     1447 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/models/account_move.py
+-rw-r--r--  2.0 unx      675 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/models/account_payment.py
+-rw-r--r--  2.0 unx     1024 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/models/hr_employee_base.py
+-rw-r--r--  2.0 unx     4138 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/models/hr_expense.py
+-rw-r--r--  2.0 unx     8357 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/models/hr_expense_sheet.py
+-rw-r--r--  2.0 unx      539 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      139 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      655 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx     1860 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/readme/USAGE.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/static/description/icon.png
+-rw-r--r--  2.0 unx    16246 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/static/description/index.html
+-rw-r--r--  2.0 unx      112 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/tests/__init__.py
+-rw-r--r--  2.0 unx    14904 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/tests/test_hr_expense_advance_clearing.py
+-rw-r--r--  2.0 unx     1265 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/views/account_payment_view.xml
+-rw-r--r--  2.0 unx      750 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/views/hr_employee_public_views.xml
+-rw-r--r--  2.0 unx      787 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/views/hr_employee_views.xml
+-rw-r--r--  2.0 unx    11559 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/views/hr_expense_views.xml
+-rw-r--r--  2.0 unx      104 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/wizard/__init__.py
+-rw-r--r--  2.0 unx     6314 b- defN 23-Apr-28 09:49 odoo/addons/hr_expense_advance_clearing/wizard/account_payment_register.py
+-rw-r--r--  2.0 unx     6605 b- defN 23-Apr-28 09:49 odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-28 09:49 odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-28 09:49 odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3455 b- defN 23-Apr-28 09:49 odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/RECORD
+29 files, 111207 bytes uncompressed, 37200 bytes compressed:  66.5%
```

## zipnote {}

```diff
@@ -69,20 +69,20 @@
 
 Filename: odoo/addons/hr_expense_advance_clearing/wizard/__init__.py
 Comment: 
 
 Filename: odoo/addons/hr_expense_advance_clearing/wizard/account_payment_register.py
 Comment: 
 
-Filename: odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/METADATA
+Filename: odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/WHEEL
+Filename: odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/top_level.txt
+Filename: odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/RECORD
+Filename: odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/hr_expense_advance_clearing/__manifest__.py

```diff
@@ -1,13 +1,13 @@
 # Copyright 2019 Kitti Upariphutthiphong <kittiu@ecosoft.co.th>
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 {
     "name": "Employee Advance and Clearing",
-    "version": "15.0.1.1.0",
+    "version": "15.0.1.2.0",
     "category": "Human Resources",
     "author": "Ecosoft, Odoo Community Association (OCA)",
     "license": "AGPL-3",
     "website": "https://github.com/OCA/hr-expense",
     "depends": ["hr_expense"],
     "data": [
         "data/advance_product.xml",
```

## odoo/addons/hr_expense_advance_clearing/models/hr_expense_sheet.py

```diff
@@ -7,15 +7,15 @@
 from odoo.tools.safe_eval import safe_eval
 
 
 class HrExpenseSheet(models.Model):
     _inherit = "hr.expense.sheet"
 
     advance = fields.Boolean(
-        string="Employee Advance", compute="_compute_advance", store=True
+        string="Employee Advance",
     )
     advance_sheet_id = fields.Many2one(
         comodel_name="hr.expense.sheet",
         string="Clear Advance",
         domain="[('advance', '=', True), ('employee_id', '=', employee_id),"
         " ('clearing_residual', '>', 0.0)]",
         readonly=True,
@@ -50,23 +50,14 @@
     )
     amount_payable = fields.Monetary(
         string="Payable Amount",
         compute="_compute_amount_payable",
         help="Final regiter payment amount even after advance clearing",
     )
 
-    @api.depends("expense_line_ids")
-    def _compute_advance(self):
-        for sheet in self:
-            if sheet.expense_line_ids:
-                sheet.advance = all(sheet.expense_line_ids.mapped("advance"))
-            else:
-                sheet.advance = self.env.context.get("default_advance", sheet.advance)
-        return
-
     @api.constrains("advance_sheet_id", "expense_line_ids")
     def _check_advance_expense(self):
         advance_lines = self.expense_line_ids.filtered("advance")
         if self.advance_sheet_id and advance_lines:
             raise ValidationError(
                 _("Advance clearing must not contain any advance expense line")
             )
```

## odoo/addons/hr_expense_advance_clearing/tests/test_hr_expense_advance_clearing.py

```diff
@@ -106,14 +106,15 @@
         )
         # Add expense to expense sheet
         expense_sheet = self.env["hr.expense.sheet"].create(
             {
                 "name": description,
                 "employee_id": expense.employee_id.id,
                 "expense_line_ids": [(6, 0, [expense.id])],
+                "advance": advance,
             }
         )
         return expense_sheet
 
     def _register_payment(self, move_id, amount, ctx=False, hr_return_advance=False):
         if not ctx:
             ctx = {
```

## odoo/addons/hr_expense_advance_clearing/views/hr_expense_views.xml

### odoo/addons/hr_expense_advance_clearing/views/hr_expense_views.xml

```diff
@@ -107,15 +107,15 @@
     <field name="inherit_id" ref="hr_expense.view_hr_expense_sheet_form"/>
     <field name="arch" type="xml">
       <field name="state" position="before">
         <button name="open_clear_advance" type="object" string="Clear Advance" class="oe_highlight" attrs="{'invisible': ['|', '|', ('advance', '=', False), ('state', '!=', 'done'), ('clearing_residual', '=', 0.0)]}"/>
         <button name="action_register_payment" type="object" string="Return Advance" attrs="{'invisible': ['|', '|', ('advance', '=', False), ('state', '!=', 'done'), ('clearing_residual', '=', 0.0)]}" context="{'hr_return_advance': True}" groups="account.group_account_user"/>
       </field>
       <h1 position="after">
-        <field name="advance" attrs="{'invisible': [('advance', '=', False)]}"/>
+        <field name="advance" attrs="{'invisible': [('advance', '=', False)]}" readonly="1" force_save="1"/>
         <label for="advance" attrs="{'invisible': [('advance', '=', False)]}"/>
       </h1>
       <xpath expr="/form/sheet/group/group" position="after">
         <group>
           <field name="id" invisible="1"/>
           <field name="advance_sheet_id" attrs="{'invisible': [('advance', '=', True)], 'readonly': [('id', '!=', False)]}" force_save="1"/>
           <field name="clearing_residual" attrs="{'invisible': [('advance', '=', False)]}"/>
```

## Comparing `odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/METADATA` & `odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-hr-expense-advance-clearing
-Version: 15.0.1.1.0
+Version: 15.0.1.2.0
 Summary: Employee Advance and Clearing
 Home-page: https://github.com/OCA/hr-expense
 Author: Ecosoft, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/RECORD` & `odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -1,29 +1,29 @@
 odoo/addons/hr_expense_advance_clearing/README.rst,sha256=PmzNsyWTjXet8tv1xMAiZcEGvoxK13RPNv8RtnzWxc4,6057
 odoo/addons/hr_expense_advance_clearing/__init__.py,sha256=JqDSCLCkAweuTaARbhG1B8Lkrgg-ZjR4Jbkty4ySwok,107
-odoo/addons/hr_expense_advance_clearing/__manifest__.py,sha256=enFj0opmxIkmq8bPHG-mvfIl4-lUk7rdejmiSp_2JMM,687
+odoo/addons/hr_expense_advance_clearing/__manifest__.py,sha256=GhM8FzzvMq4HnpfBLLPh6u_rdi-KJlloEeeKQKParyE,687
 odoo/addons/hr_expense_advance_clearing/data/advance_product.xml,sha256=sSD-KSmEf4I4K2y-l5EvqUcZAZ18fGuyGKE1f3Bxads,530
 odoo/addons/hr_expense_advance_clearing/i18n/hr_expense_advance_clearing.pot,sha256=6-cSkLTLBHN56YsajJF6XkfpzUkvRmgRrNVa31SovGM,13130
 odoo/addons/hr_expense_advance_clearing/models/__init__.py,sha256=-vcD7JK7NnIF4Au_21WYKKfFYSQrKc3pCaNpOnHYHIw,209
 odoo/addons/hr_expense_advance_clearing/models/account_move.py,sha256=iCJjkFUe8OxAs1FtcmpGf1Vmczj2br_2d2nmxVT9ncA,1447
 odoo/addons/hr_expense_advance_clearing/models/account_payment.py,sha256=S0LdNPVLt3d-myxFNoSbqYlBIJmEed1hV6iENzs_nkk,675
 odoo/addons/hr_expense_advance_clearing/models/hr_employee_base.py,sha256=BrEpXpvuYUiLMb7DUlrsOqDnDzbsJLlqgzePZO62I90,1024
 odoo/addons/hr_expense_advance_clearing/models/hr_expense.py,sha256=Eyk6vGTbDWVkvdGZ0AxGSE2L1eAaE6DSxDMpq2lAGbM,4138
-odoo/addons/hr_expense_advance_clearing/models/hr_expense_sheet.py,sha256=gghSXGT_718ySO2xShSvQtSaiyLP8cKSGhRyRuIYSAA,8730
+odoo/addons/hr_expense_advance_clearing/models/hr_expense_sheet.py,sha256=x29gDsU_0arCpcqDfQR3CMfvHAD7DJzGNr48U_lAsxQ,8357
 odoo/addons/hr_expense_advance_clearing/readme/CONFIGURE.rst,sha256=nSPZvwvL25hH7XUjhgFFpjue02KQZ083Mci8k-2N_uM,539
 odoo/addons/hr_expense_advance_clearing/readme/CONTRIBUTORS.rst,sha256=OBto1ZOZRnPtF62swQmDZ5m0Jg8xgiicFKSkbwziQ0U,139
 odoo/addons/hr_expense_advance_clearing/readme/DESCRIPTION.rst,sha256=3uDCtE0KgrE2-LcW4Am5oHnS-bhqxjIp3ecyorrSxEM,655
 odoo/addons/hr_expense_advance_clearing/readme/USAGE.rst,sha256=ivmbc56bdOm8hr6lPc-TntomIWhEYFxUpC530h4Mk0c,1860
 odoo/addons/hr_expense_advance_clearing/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/hr_expense_advance_clearing/static/description/index.html,sha256=d9CA_NHkBQyEJpCBGpr-Qob68Lak5nJ_WB7HgAKChgI,16246
 odoo/addons/hr_expense_advance_clearing/tests/__init__.py,sha256=ixOOv1bMpcb88ZsxYUp3U8qfnmfAoFKyHfLIGNmg2CY,112
-odoo/addons/hr_expense_advance_clearing/tests/test_hr_expense_advance_clearing.py,sha256=nMQqRcsismmlWgm5GKCkhDsxarywCIBlVSrrw89tQu8,14868
+odoo/addons/hr_expense_advance_clearing/tests/test_hr_expense_advance_clearing.py,sha256=Bfhn0KCvZhRj41TsYQZZmLALiu1m4Uwsksb35aMhQac,14904
 odoo/addons/hr_expense_advance_clearing/views/account_payment_view.xml,sha256=339sFzuwE8OSYX7X_K14yxkBgpolnNa6WaDwRK4Hxio,1265
 odoo/addons/hr_expense_advance_clearing/views/hr_employee_public_views.xml,sha256=NK7TFJNCTMH0PKTQgZqW0Ik8io08Cg0DdZvVM6rH0Bs,750
 odoo/addons/hr_expense_advance_clearing/views/hr_employee_views.xml,sha256=Ej0dzR3nVTs5iJlFBBTvWfMjknRxw6TZ16RQG91DQ6s,787
-odoo/addons/hr_expense_advance_clearing/views/hr_expense_views.xml,sha256=z1gHW5qeASFJX26qvPIqm7BGBaw8n7AknAezgO_8zuw,11491
+odoo/addons/hr_expense_advance_clearing/views/hr_expense_views.xml,sha256=fBmAkD1lZ0v-Kgk9IGmGDdyyCOdYf3FRhvDhL5lLwLY,11559
 odoo/addons/hr_expense_advance_clearing/wizard/__init__.py,sha256=XZN8liC9Uvuso6ahx_bPzHFlCB7raBoWsg9NTQSpx_Y,104
 odoo/addons/hr_expense_advance_clearing/wizard/account_payment_register.py,sha256=O68At6w6oi93ZBgt8Ws7-vM9Ed2brrIWRNNlnwVpV9Y,6314
-odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/METADATA,sha256=0Mhsxwfx8GrtP8rH2j5yOa-xMONwGKusAj0kz-zcNog,6605
-odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_hr_expense_advance_clearing-15.0.1.1.0.dist-info/RECORD,,
+odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/METADATA,sha256=Il4uO0R4as8uOjcWmQ1aymG9KQqwCaw7wblNtAamnOs,6605
+odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_hr_expense_advance_clearing-15.0.1.2.0.dist-info/RECORD,,
```

