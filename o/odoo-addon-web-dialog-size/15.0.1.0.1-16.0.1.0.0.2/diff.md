# Comparing `tmp/odoo_addon_web_dialog_size-15.0.1.0.1-py3-none-any.whl.zip` & `tmp/odoo_addon_web_dialog_size-16.0.1.0.0.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,34 +1,33 @@
-Zip file size: 32643 bytes, number of entries: 32
--rw-r--r--  2.0 unx     3611 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/README.rst
--rw-r--r--  2.0 unx       21 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/__init__.py
--rw-r--r--  2.0 unx     1166 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/__manifest__.py
--rw-r--r--  2.0 unx     1152 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/i18n/de.po
--rw-r--r--  2.0 unx     1139 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/i18n/es.po
--rw-r--r--  2.0 unx     1133 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/i18n/fr.po
--rw-r--r--  2.0 unx     1183 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/i18n/it.po
--rw-r--r--  2.0 unx     1176 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/i18n/nl.po
--rw-r--r--  2.0 unx      490 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/i18n/web_dialog_size.pot
--rw-r--r--  2.0 unx      647 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/i18n/zh_CN.po
--rw-r--r--  2.0 unx       34 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/models/__init__.py
--rw-r--r--  2.0 unx      514 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/models/ir_config_parameter.py
--rw-r--r--  2.0 unx      220 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/readme/CONFIGURATION.rst
--rw-r--r--  2.0 unx      269 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      531 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      188 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx       46 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/readme/ROADMAP.rst
--rw-r--r--  2.0 unx     9455 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/static/description/icon.png
--rw-r--r--  2.0 unx    14178 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/static/description/index.html
--rw-r--r--  2.0 unx     1792 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/static/src/js/web_dialog_draggable.esm.js
--rw-r--r--  2.0 unx     1430 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/static/src/js/web_dialog_size.esm.js
--rw-r--r--  2.0 unx     2340 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/static/src/js/web_dialog_size.js
--rw-r--r--  2.0 unx      582 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/static/src/scss/web_dialog_size.scss
--rw-r--r--  2.0 unx      146 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/static/src/xml/DialogDraggable.xml
--rw-r--r--  2.0 unx      654 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/static/src/xml/ExpandButton.xml
--rw-r--r--  2.0 unx     1175 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/static/src/xml/web_dialog_size.xml
--rw-r--r--  2.0 unx       35 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/tests/__init__.py
--rw-r--r--  2.0 unx      729 b- defN 22-Aug-30 06:42 odoo/addons/web_dialog_size/tests/test_web_dialog_size.py
--rw-r--r--  2.0 unx     4237 b- defN 22-Aug-30 06:42 odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 22-Aug-30 06:42 odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 22-Aug-30 06:42 odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3378 b- defN 22-Aug-30 06:42 odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/RECORD
-32 files, 53748 bytes uncompressed, 26927 bytes compressed:  49.9%
+Zip file size: 32727 bytes, number of entries: 31
+-rw-r--r--  2.0 unx     3680 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/__init__.py
+-rw-r--r--  2.0 unx     1126 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/__manifest__.py
+-rw-r--r--  2.0 unx     1152 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/i18n/de.po
+-rw-r--r--  2.0 unx     1139 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/i18n/es.po
+-rw-r--r--  2.0 unx     1133 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/i18n/fr.po
+-rw-r--r--  2.0 unx     1183 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/i18n/it.po
+-rw-r--r--  2.0 unx     1176 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/i18n/nl.po
+-rw-r--r--  2.0 unx      490 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/i18n/web_dialog_size.pot
+-rw-r--r--  2.0 unx      647 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/i18n/zh_CN.po
+-rw-r--r--  2.0 unx       34 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/models/__init__.py
+-rw-r--r--  2.0 unx      514 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/models/ir_config_parameter.py
+-rw-r--r--  2.0 unx      338 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      531 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      188 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx       46 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/static/description/icon.png
+-rw-r--r--  2.0 unx    14279 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/static/description/index.html
+-rw-r--r--  2.0 unx     2051 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/static/src/js/web_dialog_draggable.esm.js
+-rw-r--r--  2.0 unx     2203 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/static/src/js/web_dialog_size.esm.js
+-rw-r--r--  2.0 unx     2340 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/static/src/js/web_dialog_size.js
+-rw-r--r--  2.0 unx      332 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/static/src/scss/web_dialog_size.scss
+-rw-r--r--  2.0 unx      179 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/static/src/xml/DialogDraggable.xml
+-rw-r--r--  2.0 unx      678 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/static/src/xml/ExpandButton.xml
+-rw-r--r--  2.0 unx     2607 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/static/src/xml/web_dialog_size.xml
+-rw-r--r--  2.0 unx       35 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/tests/__init__.py
+-rw-r--r--  2.0 unx      729 b- defN 23-Apr-28 08:23 odoo/addons/web_dialog_size/tests/test_web_dialog_size.py
+-rw-r--r--  2.0 unx     4309 b- defN 23-Apr-28 08:23 odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-28 08:23 odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-28 08:23 odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3278 b- defN 23-Apr-28 08:23 odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/RECORD
+31 files, 55970 bytes uncompressed, 27175 bytes compressed:  51.4%
```

## zipnote {}

```diff
@@ -30,17 +30,14 @@
 
 Filename: odoo/addons/web_dialog_size/models/__init__.py
 Comment: 
 
 Filename: odoo/addons/web_dialog_size/models/ir_config_parameter.py
 Comment: 
 
-Filename: odoo/addons/web_dialog_size/readme/CONFIGURATION.rst
-Comment: 
-
 Filename: odoo/addons/web_dialog_size/readme/CONFIGURE.rst
 Comment: 
 
 Filename: odoo/addons/web_dialog_size/readme/CONTRIBUTORS.rst
 Comment: 
 
 Filename: odoo/addons/web_dialog_size/readme/DESCRIPTION.rst
@@ -78,20 +75,20 @@
 
 Filename: odoo/addons/web_dialog_size/tests/__init__.py
 Comment: 
 
 Filename: odoo/addons/web_dialog_size/tests/test_web_dialog_size.py
 Comment: 
 
-Filename: odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/METADATA
+Filename: odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/WHEEL
+Filename: odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/top_level.txt
+Filename: odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/RECORD
+Filename: odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/web_dialog_size/README.rst

```diff
@@ -10,21 +10,21 @@
 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
     :target: https://odoo-community.org/page/development-status
     :alt: Beta
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fweb-lightgray.png?logo=github
-    :target: https://github.com/OCA/web/tree/15.0/web_dialog_size
+    :target: https://github.com/OCA/web/tree/16.0/web_dialog_size
     :alt: OCA/web
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/web-15-0/web-15-0-web_dialog_size
+    :target: https://translation.odoo-community.org/projects/web-16-0/web-16-0-web_dialog_size
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
-    :target: https://runbot.odoo-community.org/runbot/162/15.0
+    :target: https://runbot.odoo-community.org/runbot/162/16.0
     :alt: Try me on Runbot
 
 |badge1| |badge2| |badge3| |badge4| |badge5| 
 
 A module that lets the user expand/restore the dialog box size through a button
 in the upper right corner (imitating most windows managers).
 It also adds draggable support to the dialogs.
@@ -33,14 +33,15 @@
 
 .. contents::
    :local:
 
 Configuration
 =============
 
+By default, the module respects the caller's ``dialog_size`` option.
 If you want to set dialog boxes maximized by default, you need to:
 
 #. Go to *Settings -> Technical -> Parameters -> System Parameters*
 #. Add a new record with the text *web_dialog_size.default_maximize* in
     the *Key* field and the text *True* in the *Value* field
 
 Known issues / Roadmap
@@ -50,15 +51,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/web/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/web/issues/new?body=module:%20web_dialog_size%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/web/issues/new?body=module:%20web_dialog_size%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -99,10 +100,10 @@
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
-This module is part of the `OCA/web <https://github.com/OCA/web/tree/15.0/web_dialog_size>`_ project on GitHub.
+This module is part of the `OCA/web <https://github.com/OCA/web/tree/16.0/web_dialog_size>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## odoo/addons/web_dialog_size/__manifest__.py

```diff
@@ -11,25 +11,23 @@
     "Therp BV, "
     "Siddharth Bhalgami,"
     "Tecnativa, "
     "Amaris, "
     "Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/web",
     "category": "web",
-    "version": "15.0.1.0.1",
+    "version": "16.0.1.0.0",
     "license": "AGPL-3",
     "depends": ["web"],
     "installable": True,
     "assets": {
         "web.assets_backend": [
             "/web_dialog_size/static/src/js/web_dialog_size.js",
             "/web_dialog_size/static/src/js/web_dialog_size.esm.js",
             "/web_dialog_size/static/src/js/web_dialog_draggable.esm.js",
             "/web_dialog_size/static/src/scss/web_dialog_size.scss",
-        ],
-        "web.assets_qweb": [
             "/web_dialog_size/static/src/xml/web_dialog_size.xml",
             "/web_dialog_size/static/src/xml/ExpandButton.xml",
             "/web_dialog_size/static/src/xml/DialogDraggable.xml",
         ],
     },
 }
```

## odoo/addons/web_dialog_size/i18n/web_dialog_size.pot

```diff
@@ -1,14 +1,14 @@
 # Translation of Odoo Server.
 # This file contains the translation of the following modules:
 # 	* web_dialog_size
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Odoo Server 15.0\n"
+"Project-Id-Version: Odoo Server 16.0\n"
 "Report-Msgid-Bugs-To: \n"
 "Last-Translator: \n"
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"
```

## odoo/addons/web_dialog_size/readme/CONFIGURE.rst

```diff
@@ -1,5 +1,6 @@
+By default, the module respects the caller's ``dialog_size`` option.
 If you want to set dialog boxes maximized by default, you need to:
 
 #. Go to *Settings -> Technical -> Parameters -> System Parameters*
 #. Add a new record with the text *web_dialog_size.default_maximize* in
     the *Key* field and the text *True* in the *Value* field
```

## odoo/addons/web_dialog_size/static/description/index.html

### odoo/addons/web_dialog_size/static/description/index.html

```diff
@@ -367,21 +367,21 @@
       <p>
         <a class="reference external" href="https://odoo-community.org/page/development-status">
           <img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png"/>
         </a>
         <a class="reference external" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html">
           <img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png"/>
         </a>
-        <a class="reference external" href="https://github.com/OCA/web/tree/15.0/web_dialog_size">
+        <a class="reference external" href="https://github.com/OCA/web/tree/16.0/web_dialog_size">
           <img alt="OCA/web" src="https://img.shields.io/badge/github-OCA%2Fweb-lightgray.png?logo=github"/>
         </a>
-        <a class="reference external" href="https://translation.odoo-community.org/projects/web-15-0/web-15-0-web_dialog_size">
+        <a class="reference external" href="https://translation.odoo-community.org/projects/web-16-0/web-16-0-web_dialog_size">
           <img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png"/>
         </a>
-        <a class="reference external" href="https://runbot.odoo-community.org/runbot/162/15.0">
+        <a class="reference external" href="https://runbot.odoo-community.org/runbot/162/16.0">
           <img alt="Try me on Runbot" src="https://img.shields.io/badge/runbot-Try%20me-875A7B.png"/>
         </a>
       </p>
       <p>A module that lets the user expand/restore the dialog box size through a button
 in the upper right corner (imitating most windows managers).
 It also adds draggable support to the dialogs.</p>
       <p>
@@ -414,15 +414,20 @@
           </li>
         </ul>
       </div>
       <div class="section" id="configuration">
         <h1>
           <a class="toc-backref" href="#id1">Configuration</a>
         </h1>
-        <p>If you want to set dialog boxes maximized by default, you need to:</p>
+        <p>
+          By default, the module respects the callerâ€™s
+          <tt class="docutils literal">dialog_size</tt>
+          option.
+If you want to set dialog boxes maximized by default, you need to:
+        </p>
         <ol class="arabic simple">
           <li>
             Go to
             <em>Settings -&gt; Technical -&gt; Parameters -&gt; System Parameters</em>
           </li>
           <li>
             <dl class="first docutils">
@@ -458,15 +463,15 @@
         </h1>
         <p>
           Bugs are tracked on
           <a class="reference external" href="https://github.com/OCA/web/issues">GitHub Issues</a>
           .
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-          <a class="reference external" href="https://github.com/OCA/web/issues/new?body=module:%20web_dialog_size%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
+          <a class="reference external" href="https://github.com/OCA/web/issues/new?body=module:%20web_dialog_size%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
           .
         </p>
         <p>Do not contact contributors directly about support or help with technical issues.</p>
       </div>
       <div class="section" id="credits">
         <h1>
           <a class="toc-backref" href="#id4">Credits</a>
@@ -558,15 +563,15 @@
             <img alt="Odoo Community Association" src="https://odoo-community.org/logo.png"/>
           </a>
           <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.</p>
           <p>
             This module is part of the
-            <a class="reference external" href="https://github.com/OCA/web/tree/15.0/web_dialog_size">OCA/web</a>
+            <a class="reference external" href="https://github.com/OCA/web/tree/16.0/web_dialog_size">OCA/web</a>
             project on GitHub.
           </p>
           <p>
             You are welcome to contribute. To learn how please visit
             <a class="reference external" href="https://odoo-community.org/page/Contribute">https://odoo-community.org/page/Contribute</a>
             .
           </p>
```

## odoo/addons/web_dialog_size/static/src/js/web_dialog_draggable.esm.js

### js-beautify {}

```diff
@@ -1,77 +1,80 @@
 /** @odoo-module **/
 
 import {
-    patch
-} from "@web/core/utils/patch";
+    ActionDialog
+} from "@web/webclient/actions/action_dialog";
 import {
-    Dialog
-} from "@web/core/dialog/dialog";
-const {
+    onMounted,
     useExternalListener
-} = owl.hooks;
+} from "@odoo/owl";
 import {
     useListener
-} from "web.custom_hooks";
-const {
-    Component
-} = owl;
+} from "@web/core/utils/hooks";
+import {
+    LegacyComponent
+} from "@web/legacy/legacy_component";
+import {
+    Dialog
+} from "@web/core/dialog/dialog";
 
-export class DialogDraggable extends Component {
+export class DialogDraggable extends LegacyComponent {
     setup() {
         this.element_position = {
             x: 0,
             y: 0
         };
         this.mouse_to_element_ratio = {
             x: 0,
             y: 0
         };
         const bound_onDrag = this.onDrag.bind(this);
         useListener("mousedown", "header.modal-header", (event) => {
-            const y = parseInt(this.el.offsetTop, 10);
-            const x = parseInt(this.el.offsetLeft, 10);
+            const y = parseInt(this.el.querySelector(".modal-content").offsetTop, 10);
+            const x = parseInt(this.el.querySelector(".modal-content").offsetLeft, 10);
             this.mouse_to_element_ratio = {
                 x: event.x - x,
                 y: event.y - y
             };
             this.element_position = {
                 x: event.x - this.mouse_to_element_ratio.x - x,
                 y: event.y - this.mouse_to_element_ratio.y - y,
             };
             document.addEventListener("mousemove", bound_onDrag);
         });
         useExternalListener(document, "mouseup", () =>
             document.removeEventListener("mousemove", bound_onDrag)
         );
+        onMounted(() => {
+            this.el.querySelector(".modal-content").classList.add("position-absolute");
+            this.el.parentNode.classList.add("position-relative");
+        });
     }
-    mounted() {
-        this.el.classList.add("position-absolute");
-        this.el.offsetParent.classList.add("position-relative");
-    }
+
     getMovePosition({
         x,
         y
     }) {
         return {
             x: x - this.mouse_to_element_ratio.x - this.element_position.x,
             y: y - this.mouse_to_element_ratio.y - this.element_position.y,
         };
     }
     onDrag(event) {
         const {
             x,
             y
         } = this.getMovePosition(event);
-        this.el.style.left = `${x}px`;
-        this.el.style.top = `${y}px`;
+        const el = this.el.querySelector(".modal-content");
+        el.style.left = `${x}px`;
+        el.style.top = `${y}px`;
     }
 }
 
 DialogDraggable.template = "DialogDraggable";
 
-patch(Dialog, "web_dialog_size.DialogDraggable", {
-    components: {
-        ...Dialog.components,
-        DialogDraggable,
-    },
+Dialog.components = Object.assign(Dialog.components || {}, {
+    DialogDraggable
+});
+Object.assign(ActionDialog.components, {
+    DialogDraggable
 });
```

## odoo/addons/web_dialog_size/static/src/js/web_dialog_size.esm.js

### js-beautify {}

```diff
@@ -3,20 +3,24 @@
 import {
     ActionDialog
 } from "@web/webclient/actions/action_dialog";
 import {
     patch
 } from "@web/core/utils/patch";
 import rpc from "web.rpc";
-const {
-    Component
-} = owl;
-const {
+import {
+    Component,
     onMounted
-} = owl.hooks;
+} from "@odoo/owl";
+import {
+    Dialog
+} from "@web/core/dialog/dialog";
+import {
+    SelectCreateDialog
+} from "@web/views/view_dialogs/select_create_dialog";
 
 export class ExpandButton extends Component {
     setup() {
         this.last_size = this.props.getsize();
         this.config = rpc.query({
             model: "ir.config_parameter",
             method: "get_web_dialog_size_config",
@@ -30,39 +34,63 @@
                 }
             });
         });
     }
 
     dialog_button_extend() {
         this.props.setsize("dialog_full_screen");
+        this.render();
     }
 
     dialog_button_restore() {
         this.props.setsize(this.last_size);
+        this.render();
     }
 }
 
 ExpandButton.template = "web_dialog_size.ExpandButton";
 
-patch(ActionDialog.prototype, "web_dialog_size.ActionDialog", {
+patch(Dialog.prototype, "web_dialog_size.Dialog", {
     setup() {
         this._super(...arguments);
         this.setSize = this.setSize.bind(this);
         this.getSize = this.getSize.bind(this);
     },
 
     setSize(size) {
-        this.size = size;
+        this.props.size = size;
         this.render();
     },
 
     getSize() {
-        return this.size;
+        return this.props.size;
     },
 });
 
-patch(ActionDialog, "web_dialog_size.ActionDialog", {
-    components: {
-        ...ActionDialog.components,
-        ExpandButton,
+patch(SelectCreateDialog.prototype, "web_dialog_size.SelectCreateDialog", {
+    setup() {
+        this._super(...arguments);
+        this.setSize = this.setSize.bind(this);
+        this.getSize = this.getSize.bind(this);
     },
-});
+
+    setSize(size) {
+        this.props.size = size;
+        this.render();
+    },
+
+    getSize() {
+        return this.props.size;
+    },
+});
+
+Object.assign(ActionDialog.components, {
+    ExpandButton
+});
+SelectCreateDialog.components = Object.assign(SelectCreateDialog.components || {}, {
+    ExpandButton,
+});
+Dialog.components = Object.assign(Dialog.components || {}, {
+    ExpandButton
+});
+// Patch annoying validation method
+Dialog.props.size.validate = (s) => ["sm", "md", "lg", "xl", "dialog_full_screen"].includes(s);
```

## odoo/addons/web_dialog_size/static/src/scss/web_dialog_size.scss

```diff
@@ -1,24 +1,16 @@
 .modal {
-    .dialog_full_screen {
+    .modal-dialog_full_screen {
         @include media-breakpoint-up(sm) {
             max-width: 100%;
             width: calc(100% - 50px);
         }
     }
-    .modal-header button.close {
-        font-size: 18px;
 
-        &:not(.dialog_button_extend):not(.dialog_button_restore) {
-            @include media-breakpoint-up(sm) {
-                margin-left: 15px;
-            }
-        }
-
-        &.dialog_button_extend,
-        .dialog_button_restore {
-            @include media-breakpoint-down(sm) {
-                display: none !important;
-            }
+    .dialog_button_restore,
+    .dialog_button_extend {
+        margin-left: auto;
+        + .btn-close {
+            margin: -8px -8px -8px 0px;
         }
     }
 }
```

## odoo/addons/web_dialog_size/static/src/xml/DialogDraggable.xml

### odoo/addons/web_dialog_size/static/src/xml/DialogDraggable.xml

```diff
@@ -1,6 +1,8 @@
 <?xml version="1.0" encoding="utf-8"?>
 <templates>
   <t t-name="DialogDraggable" owl="1">
-    <t t-slot="default"/>
+    <div>
+      <t t-slot="default"/>
+    </div>
   </t>
 </templates>
```

## odoo/addons/web_dialog_size/static/src/xml/ExpandButton.xml

### odoo/addons/web_dialog_size/static/src/xml/ExpandButton.xml

```diff
@@ -1,11 +1,11 @@
 <?xml version="1.0" encoding="utf-8"?>
 <templates>
   <t t-name="web_dialog_size.ExpandButton" owl="1">
-    <button t-if="props.getsize() == 'dialog_full_screen'" type="button" class="close dialog_button_extend" t-on-click="dialog_button_restore">
+    <button t-if="props.getsize() == 'dialog_full_screen'" type="button" class="btn btn-secondary dialog_button_extend" t-on-click="dialog_button_restore">
       <i class="fa fa-compress"/>
     </button>
-    <button t-if="props.getsize() != 'dialog_full_screen'" type="button" class="close dialog_button_restore" t-on-click="dialog_button_extend">
+    <button t-if="props.getsize() != 'dialog_full_screen'" type="button" class="btn btn-secondary dialog_button_restore" t-on-click="dialog_button_extend">
       <i class="fa fa-expand"/>
     </button>
   </t>
 </templates>
```

## odoo/addons/web_dialog_size/static/src/xml/web_dialog_size.xml

### odoo/addons/web_dialog_size/static/src/xml/web_dialog_size.xml

```diff
@@ -1,29 +1,57 @@
 <?xml version="1.0" encoding="utf-8"?>
 <templates xml:space="preserve">
   <!-- This is for old Dialog template.
     Because Odoo haven't done every template to OWL. -->
-  <t t-extend="Dialog">
-    <t t-jquery="button.close" t-operation="inner">
+  <t t-extend="web.DialogWidget">
+    <t t-jquery="button.btn-close" t-operation="inner">
       <i class="fa fa-close"/>
     </t>
-    <t t-jquery="button.close" t-operation="before">
-      <button type="button" class="dialog_button_extend close">
+    <t t-jquery="button.btn-close" t-operation="before">
+      <button type="button" class="dialog_button_extend btn btn-secondary">
         <i class="fa fa-expand"/>
       </button>
-      <button type="button" class="dialog_button_restore close">
+      <button type="button" class="dialog_button_restore btn btn-secondary">
         <i class="fa fa-compress"/>
       </button>
     </t>
   </t>
+  <t t-inherit="web.LegacyAdaptedActionDialog" t-inherit-mode="extension" owl="1">
+    <xpath expr="//div[hasclass('modal-content')]" position="before">
+      <DialogDraggable/>
+    </xpath>
+    <DialogDraggable position="inside">
+      <xpath expr="//div[hasclass('modal-content')]" position="move"/>
+    </DialogDraggable>
+  </t>
+  <t t-inherit="web.Dialog" t-inherit-mode="extension" owl="1">
+    <xpath expr="//div[hasclass('modal-content')]" position="before">
+      <DialogDraggable/>
+    </xpath>
+    <DialogDraggable position="inside">
+      <xpath expr="//div[hasclass('modal-content')]" position="move"/>
+    </DialogDraggable>
+  </t>
   <t t-inherit="web.ActionDialog" t-inherit-mode="extension" owl="1">
     <xpath expr="//div[hasclass('modal-content')]" position="before">
       <DialogDraggable/>
     </xpath>
     <DialogDraggable position="inside">
       <xpath expr="//div[hasclass('modal-content')]" position="move"/>
     </DialogDraggable>
-    <xpath expr="//button[hasclass('close')]" position="before">
-      <ExpandButton getsize="getSize" setsize="setSize"/>
+  </t>
+  <t t-inherit="web.ActionDialog.header" t-inherit-mode="extension" owl="1">
+    <xpath expr="//button[hasclass('btn-close')]" position="before">
+      <ExpandButton getsize="getSize" setsize="setSize" t-if="!isFullscreen"/>
+    </xpath>
+  </t>
+  <t t-inherit="web.Dialog.header" t-inherit-mode="extension" owl="1">
+    <xpath expr="//button[hasclass('btn-close')]" position="before">
+      <ExpandButton getsize="getSize" setsize="setSize" t-if="!isFullscreen and getSize and setSize"/>
+    </xpath>
+  </t>
+  <t t-inherit="web.SelectCreateDialog" t-inherit-mode="extension" owl="1">
+    <xpath expr="//Dialog" position="attributes">
+      <attribute name="size">props.size</attribute>
     </xpath>
   </t>
 </templates>
```

## Comparing `odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/METADATA` & `odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/METADATA`

 * *Files 8% similar despite different names*

```diff
@@ -1,22 +1,22 @@
 Metadata-Version: 2.1
 Name: odoo-addon-web-dialog-size
-Version: 15.0.1.0.1
+Version: 16.0.1.0.0.2
 Summary: A module that lets the user expand a dialog box to the full screen width.
 Home-page: https://github.com/OCA/web
 Author: ACSONE SA/NV, Therp BV, Siddharth Bhalgami,Tecnativa, Amaris, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
-Classifier: Framework :: Odoo :: 15.0
+Classifier: Framework :: Odoo :: 16.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
-Requires-Python: >=3.8
-Requires-Dist: odoo (<15.1dev,>=15.0a)
+Requires-Python: >=3.10
+Requires-Dist: odoo (<16.1dev,>=16.0a)
 
 ===============
 Web Dialog Size
 ===============
 
 .. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
@@ -26,21 +26,21 @@
 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
     :target: https://odoo-community.org/page/development-status
     :alt: Beta
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fweb-lightgray.png?logo=github
-    :target: https://github.com/OCA/web/tree/15.0/web_dialog_size
+    :target: https://github.com/OCA/web/tree/16.0/web_dialog_size
     :alt: OCA/web
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/web-15-0/web-15-0-web_dialog_size
+    :target: https://translation.odoo-community.org/projects/web-16-0/web-16-0-web_dialog_size
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
-    :target: https://runbot.odoo-community.org/runbot/162/15.0
+    :target: https://runbot.odoo-community.org/runbot/162/16.0
     :alt: Try me on Runbot
 
 |badge1| |badge2| |badge3| |badge4| |badge5| 
 
 A module that lets the user expand/restore the dialog box size through a button
 in the upper right corner (imitating most windows managers).
 It also adds draggable support to the dialogs.
@@ -49,14 +49,15 @@
 
 .. contents::
    :local:
 
 Configuration
 =============
 
+By default, the module respects the caller's ``dialog_size`` option.
 If you want to set dialog boxes maximized by default, you need to:
 
 #. Go to *Settings -> Technical -> Parameters -> System Parameters*
 #. Add a new record with the text *web_dialog_size.default_maximize* in
     the *Key* field and the text *True* in the *Value* field
 
 Known issues / Roadmap
@@ -66,15 +67,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/web/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/web/issues/new?body=module:%20web_dialog_size%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/web/issues/new?body=module:%20web_dialog_size%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -115,12 +116,12 @@
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
-This module is part of the `OCA/web <https://github.com/OCA/web/tree/15.0/web_dialog_size>`_ project on GitHub.
+This module is part of the `OCA/web <https://github.com/OCA/web/tree/16.0/web_dialog_size>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## Comparing `odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/RECORD` & `odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/RECORD`

 * *Files 14% similar despite different names*

```diff
@@ -1,32 +1,31 @@
-odoo/addons/web_dialog_size/README.rst,sha256=rZUWuDh96MdipuJILHszdIhbP_9m9ybvUsr55nbe0Ss,3611
+odoo/addons/web_dialog_size/README.rst,sha256=HqZAYKH4buP46Oo2Ri7evmWWLapkq4MwrMGWUoaftaM,3680
 odoo/addons/web_dialog_size/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/web_dialog_size/__manifest__.py,sha256=Usu4UlB4NDm53upriq4tSGAo9A-IW_KlHS3akhS0Hhs,1166
+odoo/addons/web_dialog_size/__manifest__.py,sha256=IZ6YXrcoHawJ1xvtau7E3zjEI0idal9AQhJzc9Tf9eA,1126
 odoo/addons/web_dialog_size/i18n/de.po,sha256=qyOe0ffvBD_ECbnbeBcyMOpTt0R01vOGFVdjJO5Dau0,1152
 odoo/addons/web_dialog_size/i18n/es.po,sha256=QDvSSjzzIMmDVsuEnAZXTsKVk6X9-52fUOJwdvT3HfQ,1139
 odoo/addons/web_dialog_size/i18n/fr.po,sha256=Gai8wYIgsvCIOOGe28hwh1VIHG3UMlubkuh9b2xEgcQ,1133
 odoo/addons/web_dialog_size/i18n/it.po,sha256=vzYQnCVFTcgdg3gv1Ca__zPS-HaFuQOyyJ9aq6H2wfU,1183
 odoo/addons/web_dialog_size/i18n/nl.po,sha256=YYr7FUK8HaT0MR3y5um214_KQA0PcHpdoO2dNjAuiqU,1176
-odoo/addons/web_dialog_size/i18n/web_dialog_size.pot,sha256=IiIBEgrhdnb_WpADhUBWCwo-3mdSylFcsObAxu8p5aA,490
+odoo/addons/web_dialog_size/i18n/web_dialog_size.pot,sha256=24-rlLz3jfmr3-KMsH3mRATtarC2j_d0JYs-mBLVJvk,490
 odoo/addons/web_dialog_size/i18n/zh_CN.po,sha256=BUupB8C1I2B2XOwSUPOX-VZI3ZAqsgzvg2SKfQ1eUo4,647
 odoo/addons/web_dialog_size/models/__init__.py,sha256=e_Oo9GZ4nnXqYSgScLShUyRb5XCkv03mQUyJ3uB4C0c,34
 odoo/addons/web_dialog_size/models/ir_config_parameter.py,sha256=WREN0O5eh_eOaDIBofmTKzzPjUHSzGMFipBWRpF04V8,514
-odoo/addons/web_dialog_size/readme/CONFIGURATION.rst,sha256=-zQ8_0i4n5ZD8Jv_E599XX0qzZEGwvSvD6umXCuj5AI,220
-odoo/addons/web_dialog_size/readme/CONFIGURE.rst,sha256=yGgxju41h6d_EX7gnwhVw0L9u2Q0MV4kOI8aGdLXsFE,269
+odoo/addons/web_dialog_size/readme/CONFIGURE.rst,sha256=rm_pVazBNG5Xe8g_HK4BQ-SWcMyefhzwulM_a0sZbOo,338
 odoo/addons/web_dialog_size/readme/CONTRIBUTORS.rst,sha256=NeS0GLx9kOr15GgB9IVUXHffKAQh8hPW6cR5UuhC4AA,531
 odoo/addons/web_dialog_size/readme/DESCRIPTION.rst,sha256=ICtmhDUVpwcYGPL6FloA2HuTNtlfQ8E3bbu1a2B7wBM,188
 odoo/addons/web_dialog_size/readme/ROADMAP.rst,sha256=Q741iccSBzrJTdWYl9KjkasW6XJUjJP8JXqkJv5azVc,46
 odoo/addons/web_dialog_size/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/web_dialog_size/static/description/index.html,sha256=4AuGHlNjD7z462CA_00o2-zga5Sz0Sd0A9Sdov3Zo4M,14178
-odoo/addons/web_dialog_size/static/src/js/web_dialog_draggable.esm.js,sha256=wm1t1ExFkkK1xEz_J70eTuaEevCzCkwHDpVaJ8W45-U,1792
-odoo/addons/web_dialog_size/static/src/js/web_dialog_size.esm.js,sha256=78hP9k4qbStKHdDlu2me2umjd1Wcce6PnnUP0iWYO3Y,1430
+odoo/addons/web_dialog_size/static/description/index.html,sha256=t79CgB9f6YZT_lfNNfZAKFv9RsF_wNSK_7ccgFLQ8zI,14279
+odoo/addons/web_dialog_size/static/src/js/web_dialog_draggable.esm.js,sha256=Xyzcn2MhQy1i2OZKjsKxK_hjzUFP-4LBoWzywGD8RPY,2051
+odoo/addons/web_dialog_size/static/src/js/web_dialog_size.esm.js,sha256=POYLrJWrVH3ez98bSB-hGE7LffLog_A6KrkUs4FnFoY,2203
 odoo/addons/web_dialog_size/static/src/js/web_dialog_size.js,sha256=Oe34kXfKc74x8nvsjMYleqWmkXWojRAvDYHjQFqqCis,2340
-odoo/addons/web_dialog_size/static/src/scss/web_dialog_size.scss,sha256=3HY1gQiDq6Vmck_Gh4zwVlDzC807WSZX5mrpWgotIiw,582
-odoo/addons/web_dialog_size/static/src/xml/DialogDraggable.xml,sha256=XGQyERHfa7HohLO9HSnjen_FpMn2Dqo6Wb1LwNjUkO8,146
-odoo/addons/web_dialog_size/static/src/xml/ExpandButton.xml,sha256=7vWUmoG_cP2W7pJu-3XIy8u0swLV8XOJsSijFOEelMs,654
-odoo/addons/web_dialog_size/static/src/xml/web_dialog_size.xml,sha256=Gl59ZtuaeUOfGIuQOu1-yxp5CL9W5mIsI6nIkfrJ_2Y,1175
+odoo/addons/web_dialog_size/static/src/scss/web_dialog_size.scss,sha256=UZwrcbVWKnRzSU-51pA0YUxgRNXFgT5-zCscYMtKF_U,332
+odoo/addons/web_dialog_size/static/src/xml/DialogDraggable.xml,sha256=-ZPBYh9j4yGY-vW2pdPhqQNSqqtRmMHmtJuSZUTvsdw,179
+odoo/addons/web_dialog_size/static/src/xml/ExpandButton.xml,sha256=cvpCe0DLFUyFZPDe_aR-i8v7zwNBHsDBVNIvZdFXccM,678
+odoo/addons/web_dialog_size/static/src/xml/web_dialog_size.xml,sha256=lCFpdRigJmXjdSReq7rdL1b2HOFBw5fbopaS92T1edg,2607
 odoo/addons/web_dialog_size/tests/__init__.py,sha256=7XvysjWSVwGfwXcbwEbXHLlcYXBeJsSJ44NgBsLz4JE,35
 odoo/addons/web_dialog_size/tests/test_web_dialog_size.py,sha256=_u77prq7LR8JRUQkH0h7Y094UCEmcw3RM5tFso5rF-4,729
-odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/METADATA,sha256=kzuP9xw4HoNfbRiuPOL8yvTup6ppegAQilyIzW0pXQI,4237
-odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_web_dialog_size-15.0.1.0.1.dist-info/RECORD,,
+odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/METADATA,sha256=-TCtn-y6gWXC8Zdb0SSQr4KBny_joNzffakzwkifOAA,4309
+odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_web_dialog_size-16.0.1.0.0.2.dist-info/RECORD,,
```

