# Comparing `tmp/nedry-2.4.1-py3-none-any.whl.zip` & `tmp/nedry-2.4.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,30 +1,28 @@
-Zip file size: 235951 bytes, number of entries: 28
--rw-rw-r--  2.0 unx      358 b- defN 23-Mar-07 05:48 nedry/__init__.py
--rw-rw-r--  2.0 unx     3412 b- defN 23-Mar-07 05:47 nedry/__main__.py
--rw-rw-r--  2.0 unx    31589 b- defN 23-Feb-16 07:35 nedry/command_processor.py
--rw-rw-r--  2.0 unx     4319 b- defN 23-Feb-19 21:55 nedry/config.py
--rw-rw-r--  2.0 unx     9817 b- defN 23-Feb-22 06:02 nedry/discord_bot.py
--rw-rw-r--  2.0 unx     1407 b- defN 23-Feb-17 23:45 nedry/event_types.py
--rw-rw-r--  2.0 unx     3010 b- defN 23-Feb-17 23:52 nedry/events.py
--rw-rw-r--  2.0 unx     6423 b- defN 23-Feb-13 07:38 nedry/plugin.py
--rw-rw-r--  2.0 unx   581924 b- defN 22-Dec-06 03:23 nedry/quotedb.json
--rw-rw-r--  2.0 unx     4811 b- defN 22-Dec-06 03:23 nedry/quotes.py
--rw-rw-r--  2.0 unx     5926 b- defN 23-Feb-07 07:58 nedry/scheduler.py
--rw-rw-r--  2.0 unx     6490 b- defN 23-Feb-04 06:15 nedry/twitch_monitor.py
--rw-rw-r--  2.0 unx     4452 b- defN 23-Feb-10 04:21 nedry/utils.py
--rw-rw-r--  2.0 unx      480 b- defN 23-Feb-18 00:03 nedry/builtin_plugins/__init__.py
--rw-rw-r--  2.0 unx     1110 b- defN 23-Feb-07 07:39 nedry/builtin_plugins/birthdays.py
--rw-rw-r--  2.0 unx     9239 b- defN 23-Feb-10 02:56 nedry/builtin_plugins/knock_knock_jokes.py
--rw-rw-r--  2.0 unx     7379 b- defN 23-Jan-29 05:53 nedry/builtin_plugins/mock.py
--rw-rw-r--  2.0 unx    26701 b- defN 23-Jan-30 01:32 nedry/builtin_plugins/schedule.py
--rw-rw-r--  2.0 unx     8658 b- defN 23-Feb-23 02:37 nedry/builtin_plugins/social_credit.py
--rw-rw-r--  2.0 unx     9184 b- defN 23-Feb-13 08:25 nedry/builtin_plugins/stories.py
--rw-rw-r--  2.0 unx    10994 b- defN 23-Feb-10 02:56 nedry/builtin_plugins/trivia.py
--rw-rw-r--  2.0 unx     3951 b- defN 23-Jan-30 01:58 nedry/builtin_plugins/wiki.py
--rw-rw-r--  2.0 unx    24820 b- defN 23-Feb-10 04:01 nedry/builtin_plugins/writing_prompts.txt
--rwxrwxr-x  2.0 unx    11346 b- defN 23-Mar-07 05:51 nedry-2.4.1.dist-info/LICENSE
--rw-rw-r--  2.0 unx    41556 b- defN 23-Mar-07 05:51 nedry-2.4.1.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Mar-07 05:51 nedry-2.4.1.dist-info/WHEEL
--rw-rw-r--  2.0 unx        6 b- defN 23-Mar-07 05:51 nedry-2.4.1.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2267 b- defN 23-Mar-07 05:51 nedry-2.4.1.dist-info/RECORD
-28 files, 821721 bytes uncompressed, 232353 bytes compressed:  71.7%
+Zip file size: 233595 bytes, number of entries: 26
+-rw-rw-rw-  2.0 fat      358 b- defN 23-Apr-28 01:15 nedry/__init__.py
+-rw-rw-rw-  2.0 fat     3379 b- defN 23-Apr-28 01:15 nedry/__main__.py
+-rw-rw-rw-  2.0 fat    32150 b- defN 23-Apr-28 01:15 nedry/command_processor.py
+-rw-rw-rw-  2.0 fat     3545 b- defN 23-Apr-28 01:15 nedry/config.py
+-rw-rw-rw-  2.0 fat     9817 b- defN 23-Mar-07 05:54 nedry/discord_bot.py
+-rw-rw-rw-  2.0 fat     1407 b- defN 23-Mar-07 05:54 nedry/event_types.py
+-rw-rw-rw-  2.0 fat     3010 b- defN 23-Mar-07 05:54 nedry/events.py
+-rw-rw-rw-  2.0 fat     6432 b- defN 23-Apr-28 01:15 nedry/plugin.py
+-rw-rw-rw-  2.0 fat   581924 b- defN 22-Dec-06 03:37 nedry/quotedb.json
+-rw-rw-rw-  2.0 fat     4811 b- defN 22-Dec-06 03:37 nedry/quotes.py
+-rw-rw-rw-  2.0 fat     6322 b- defN 23-Apr-28 01:15 nedry/twitch_monitor.py
+-rw-rw-rw-  2.0 fat     4452 b- defN 23-Feb-13 08:37 nedry/utils.py
+-rw-rw-rw-  2.0 fat      480 b- defN 23-Mar-07 05:54 nedry/builtin_plugins/__init__.py
+-rw-rw-rw-  2.0 fat     9239 b- defN 23-Feb-13 08:37 nedry/builtin_plugins/knock_knock_jokes.py
+-rw-rw-rw-  2.0 fat     7379 b- defN 23-Jan-29 06:18 nedry/builtin_plugins/mock.py
+-rw-rw-rw-  2.0 fat    26701 b- defN 23-Jan-30 02:07 nedry/builtin_plugins/schedule.py
+-rw-rw-rw-  2.0 fat     7967 b- defN 23-Apr-28 01:15 nedry/builtin_plugins/social_credit.py
+-rw-rw-rw-  2.0 fat     9184 b- defN 23-Feb-13 08:37 nedry/builtin_plugins/stories.py
+-rw-rw-rw-  2.0 fat    10994 b- defN 23-Feb-13 08:37 nedry/builtin_plugins/trivia.py
+-rw-rw-rw-  2.0 fat     3951 b- defN 23-Jan-30 02:07 nedry/builtin_plugins/wiki.py
+-rw-rw-rw-  2.0 fat    24820 b- defN 23-Feb-13 08:38 nedry/builtin_plugins/writing_prompts.txt
+-rw-rw-rw-  2.0 fat    11346 b- defN 23-Apr-28 01:20 nedry-2.4.2.dist-info/LICENSE
+-rw-rw-rw-  2.0 fat    42963 b- defN 23-Apr-28 01:20 nedry-2.4.2.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Apr-28 01:20 nedry-2.4.2.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        6 b- defN 23-Apr-28 01:20 nedry-2.4.2.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     2101 b- defN 23-Apr-28 01:20 nedry-2.4.2.dist-info/RECORD
+26 files, 814830 bytes uncompressed, 230253 bytes compressed:  71.7%
```

## zipnote {}

```diff
@@ -24,29 +24,23 @@
 
 Filename: nedry/quotedb.json
 Comment: 
 
 Filename: nedry/quotes.py
 Comment: 
 
-Filename: nedry/scheduler.py
-Comment: 
-
 Filename: nedry/twitch_monitor.py
 Comment: 
 
 Filename: nedry/utils.py
 Comment: 
 
 Filename: nedry/builtin_plugins/__init__.py
 Comment: 
 
-Filename: nedry/builtin_plugins/birthdays.py
-Comment: 
-
 Filename: nedry/builtin_plugins/knock_knock_jokes.py
 Comment: 
 
 Filename: nedry/builtin_plugins/mock.py
 Comment: 
 
 Filename: nedry/builtin_plugins/schedule.py
@@ -63,23 +57,23 @@
 
 Filename: nedry/builtin_plugins/wiki.py
 Comment: 
 
 Filename: nedry/builtin_plugins/writing_prompts.txt
 Comment: 
 
-Filename: nedry-2.4.1.dist-info/LICENSE
+Filename: nedry-2.4.2.dist-info/LICENSE
 Comment: 
 
-Filename: nedry-2.4.1.dist-info/METADATA
+Filename: nedry-2.4.2.dist-info/METADATA
 Comment: 
 
-Filename: nedry-2.4.1.dist-info/WHEEL
+Filename: nedry-2.4.2.dist-info/WHEEL
 Comment: 
 
-Filename: nedry-2.4.1.dist-info/top_level.txt
+Filename: nedry-2.4.2.dist-info/top_level.txt
 Comment: 
 
-Filename: nedry-2.4.1.dist-info/RECORD
+Filename: nedry-2.4.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## nedry/__init__.py

```diff
@@ -1,12 +1,12 @@
 import logging
 logging.basicConfig(format="[%(asctime)s][%(levelname)s][%(module)s:%(lineno)s]: %(message)s")
 
 __author__ = "Erik Nyquist"
 __license__ = "Apache 2.0"
-__version__ = "2.4.1"
+__version__ = "2.4.2"
 __maintainer__ = "Erik Nyquist"
 __email__ = "eknyquist@gmail.com"
 
 logger = logging.getLogger(__name__)
 logger.setLevel(logging.INFO)
 logger.info(f"nedry {__version__}")
```

## nedry/__main__.py

```diff
@@ -88,15 +88,14 @@
     plugin_manager.startup_plugins()
     plugin_manager.enable_plugins(config.config.enabled_plugins)
 
     bot.plugin_manager = plugin_manager
 
 
     connect_thread = threading.Thread(target=wait_for_guild_avail, args=(config, bot))
-    connect_thread.daemon = True
     connect_thread.start()
 
     # KeyboardInterrupt will not be bubbled up, instead it will just
     # cause this function to return silently
     bot.run()
 
     logger.info("Stopping")
```

## nedry/command_processor.py

```diff
@@ -4,14 +4,15 @@
 # All of the handler functions for commands are also implemented here.
 
 import random
 import datetime
 import os
 import time
 import logging
+from difflib import SequenceMatcher
 
 from nedry import __version__ as version
 from nedry import quotes
 from nedry import utils
 from nedry.twitch_monitor import InvalidTwitchUser
 
 
@@ -450,14 +451,24 @@
         :rtype: str
         """
         author = message.author
         text = message.content
 
         return None
 
+    def _nearest_command(self, unrec_cmd_word):
+        sorted_cmd_words = []
+
+        for cmd_word in self.cmds.keys():
+            ratio = SequenceMatcher(None, cmd_word, unrec_cmd_word).ratio()
+            sorted_cmd_words.append((cmd_word, ratio))
+
+        sorted_cmd_words.sort(reverse=True, key=lambda x: x[1])
+        return sorted_cmd_words[0]
+
     def process_command(self, channel, author, text):
         """
         Parse some text containing a command and run the handler, if there is an
         appropriate one
 
         :param channel: Discord channel object
         :param author: User object from discord.py, the user who wrote the message
@@ -487,15 +498,20 @@
             if command != 'cmdhistory':
                 self._log_valid_command(author, text)
 
             # Run command handler
             handler = self.cmds[command].handler
             return handler(command, argtext, msg_data, self, self.config, self.twitch_monitor)
 
-        return "Sorry, I don't recognize the command '%s'" % command
+        nearest, ratio = self._nearest_command(command)
+        ret = f"Sorry, I don't recognize the command `{command}`."
+        if ratio > 0.5:
+            ret += f" Did you mean `{nearest}`?"
+
+        return ret
 
     def usage_msg(self, msg, cmd_word):
         ret = msg + "\n\n"
         ret += "For more information see:\n```@%s !help %s```" % (self.bot.client.user.name, cmd_word)
         return ret
 
 
@@ -630,15 +646,16 @@
     if len(args) == 1:
         return "OK! Streamer '%s' is no longer being monitored" % args[0]
     else:
         return "OK! Streamers %s are no longer being monitored" % utils.list_to_english(args)
 
 def cmd_clearallstreamers(cmd_word, args, message, proc, config, twitch_monitor):
     twitch_monitor.clear_usernames()
-    config.confing.streamers_to_monitor.clear()
+    config.config.streamers_to_monitor.clear()
+    config.save_to_file()
 
     return "OK, no streamers are being monitored any more."
 
 def cmd_nocompetition(cmd_word, args, message, proc, config, twitch_monitor):
     args = args.lower().split()
     if len(args) < 1:
         return "nocompetition is %s" % ("enabled" if config.config.silent_when_host_streaming else "disabled")
```

## nedry/config.py

```diff
@@ -76,21 +76,16 @@
 class BotConfigManager(object):
     SAVE_INTERVAL_SECS = 3600 # 1 hour
 
     def __init__(self, filename):
         self.filename = filename
         self.config = BotConfig()
         self.serializer = Serializer(self.config)
-        self.stop_event = threading.Event()
         self.save_requested = threading.Event()
 
-        self.save_thread = threading.Thread(target=self._save_thread_task)
-        self.save_thread.daemon = True
-        self.save_thread.start()
-
     def load_from_file(self, filename=None):
         if filename is None:
             filename = self.filename
 
         logger.debug(f"loading configuration file {filename}")
         return self.serializer.from_file(filename)
 
@@ -112,34 +107,16 @@
             self.save_requested.clear()
             logger.debug(f"flushed new config to {self.filename}")
         else:
             logger.debug("No config changes to flush")
 
     def stop(self):
         logger.debug("Stopping")
-        self.stop_event.set()
-        self.save_thread.join()
         self._check_flush_to_file()
 
     def timezone_by_discord_user_id(self, discord_user_id):
         tz_info = None
         if str(discord_user_id) in self.config.timezones:
             tz_name = self.config.timezones[str(discord_user_id)]
             tz_info = zoneinfo.ZoneInfo(tz_name)
 
         return tz_info
-
-    def _save_thread_task(self):
-        logger.debug("started config file save thread")
-        last_save_time = time.time()
-
-        while True:
-            # Wait until it's time to check for a requested save
-            while (time.time() - last_save_time) < self.SAVE_INTERVAL_SECS:
-                time.sleep(1.0)
-
-                if self.stop_event.is_set():
-                    self.stop_event.clear()
-                    return
-
-            last_save_time = time.time()
-            self._check_flush_to_file()
```

## nedry/plugin.py

```diff
@@ -65,24 +65,24 @@
 
     def add_plugin_class(self, cls):
         name = cls.plugin_name.lower()
         if name in self._plugin_modules:
             raise NameError("Plugin name %s already exists" % name)
 
         self._plugin_modules[name] = cls(self._discord_bot)
-        logger.info("loaded built-in %s %s" % (cls.plugin_name, cls.plugin_version))
+        logger.info("loaded plugin %s %s" % (cls.plugin_name, cls.plugin_version))
 
     def check_and_load_object(self, obj, filepath):
-        name = obj.plugin_name.lower()
         if inspect.isclass(obj) and issubclass(obj, PluginModule) and (obj != PluginModule):
+            name = obj.plugin_name.lower()
             if name in self._plugin_modules:
                 raise NameError("Plugin name %s already exists" % name)
 
             self._plugin_modules[name] = obj(self._discord_bot)
-            logger.info("%s %s loaded from %s" % (name, obj.plugin_version, filepath))
+            logger.info("loaded plugin %s %s from %s" % (name, obj.plugin_version, filepath))
 
     def load_plugins_from_file(self, filepath):
         spec = importlib.util.spec_from_file_location("Plugin%d" % len(self._plugin_modules),
                                                       filepath)
 
         try:
             mod = importlib.util.module_from_spec(spec)
```

## nedry/twitch_monitor.py

```diff
@@ -1,22 +1,23 @@
 # Implements a TwitchMonitor class that interacts with the twitch API to
 # provide information about the status of streamers being monitored
 
 import time
 import logging
 import threading
+from requests import exceptions
 
 from nedry import events
 from nedry.event_types import EventType
 
 import twitch
 
 
 logger = logging.getLogger(__name__)
-logger.setLevel(logging.INFO)
+logger.setLevel(logging.DEBUG)
 
 
 class InvalidTwitchUser(Exception):
     """
     Raised when an invalid twitch username is provided
     """
     pass
@@ -42,18 +43,16 @@
     when they start streaming
     """
     def __init__(self, config):
         self.helix = None
         self.users = []
         self.config = config
         self.usernames = {}
-        self.request_complete = threading.Event()
         self.discord_connected = threading.Event()
         self.stopped = threading.Event()
-        self.request_complete.set()
         self.last_host_obj = None
         self.streamers = {}
 
         self.thread = threading.Thread(target=self._streamer_check_loop)
         self.thread.daemon = True
         self.thread_running = False
 
@@ -64,15 +63,15 @@
         else:
             logger.warning("Can't monitor twitch streamers yet, no twitch client ID/secret is set")
 
     def _on_discord_connected(self):
         self.discord_connected.set()
 
     def reconnect(self, client_id, client_secret):
-        self.request_complete.wait()
+        logger.debug("Connecting to Twitch")
 
         try:
             new_helix = twitch.Helix(client_id, client_secret)
         except:
             return False
 
         usernames = self.config.config.streamers_to_monitor
@@ -119,45 +118,29 @@
                         events.emit(EventType.TWITCH_STREAM_STARTED, c.name, c.url)
                     else:
                         logger.debug("streamer %s is no longer live" % c.name)
                         events.emit(EventType.TWITCH_STREAM_ENDED, c.name, c.url)
 
             self.streamers[c.name] = c
 
-    def _check_streamers_retry(self, max_retries=5):
-        retry_count = 0
-
-        while True:
-            try:
-                self._check_streamers()
-            except ConnectionResetError as e:
-                if retry_count >= max_retries:
-                    raise e
-
-                retry_count += 1
-                logger.warning(f"ConnectionResetError occurred, retrying ({retry_count}/{max_retries})")
-                continue
-            else:
-                break
-
     def _streamer_check_loop(self):
         self.discord_connected.wait()
 
         last_check_time = time.time()
-        self._check_streamers_retry()
+        self._check_streamers()
 
         while True:
             # Wait for the poll period to expire
             while (time.time() - last_check_time) < self.config.config.poll_period_seconds:
                 time.sleep(1.0)
                 if self.stopped.is_set():
                     return
 
             last_check_time += self.config.config.poll_period_seconds
-            self._check_streamers_retry()
+            self._check_streamers()
 
     def add_usernames(self, names):
         lnames = [x.lower() for x in names]
         names_to_add = {}
 
         for n in lnames:
             if self.helix.user(n) is None:
@@ -181,22 +164,31 @@
     def username_added(self, name):
         return name.lower() in self.usernames
 
     def _read_streamer_info(self, username):
         user = self.helix.user(username)
         return TwitchChannel(user, username)
 
-    def read_streamer_info(self, username):
-        self.request_complete.clear()
-        ret = self._read_streamer_info(username)
-        self.request_complete.set()
+    def _twitch_op_retry(self, op, *args, **kwargs):
+        retry_count = 10
+        success = False
+
+        while (not success) and (retry_count > 0):
+            try:
+                ret = op(*args, **kwargs)
+            except (exceptions.ConnectionError, exceptions.HTTPError, ConnectionResetError):
+                self.reconnect(self.config.config.twitch_client_id, self.config.config.twitch_client_secret)
+                retry_count -= 1
+            else:
+                success = True
+
         return ret
 
+    def read_streamer_info(self, username):
+        return self._twitch_op_retry(self._read_streamer_info, username)
+
     def read_all_streamer_info(self):
-        self.request_complete.clear()
-        all_info = [self._read_streamer_info(u) for u in self.usernames]
-        self.request_complete.set()
-        return all_info
+        return [self._twitch_op_retry(self._read_streamer_info, u) for u in self.usernames]
 
     def stop(self):
         self.stopped.set()
         self.thread.join()
```

## nedry/builtin_plugins/social_credit.py

```diff
@@ -92,28 +92,32 @@
         return
 
     _record_user(message.author.id)
     _record_message(message)
     discord_users_by_id[message.author.id].bot_commands_sent += 1
 
 def _calculate_score(user):
-    total_message_count = 0
-    avg_msgs_per_channel = 1.0
+    # Number of channels user has sent a message in
     channel_count = len(user.channels_visited)
 
+    # Count total number of message sent by user in all channels
+    total_message_count = 0
     for chan_id in user.channels_visited:
         total_message_count += user.channels_visited[chan_id]
 
-    if channel_count:
-        avg_msgs_per_channel = float(total_message_count) / float(channel_count)
-
+    # Time since last message sent by user, or TIME_FACTOR_MAX_SECONDS, whichever is smaller
     secs_since_last_msg = min(time.time() - user.last_msg_time, TIME_FACTOR_MAX_SECONDS)
+
+    # Create factor between 0.0 - 1.0, representing the inverse of the time since
+    # the last message sent by this user. If the last message was sent very
+    # recently, the factor will be close to 1.0. The greater the time since the last
+    # message, the closer this factor will be to 0.0, up to a time value of TIME_FACTOR_MAX_SECONDS
     time_factor = 1.0 - (secs_since_last_msg / TIME_FACTOR_MAX_SECONDS)
 
-    return int(((total_message_count + channel_count + user.bot_commands_sent) * avg_msgs_per_channel) * time_factor)
+    return int((total_message_count + (channel_count * 10) + user.bot_commands_sent) * time_factor)
 
 def _leaderboard(bot):
     users = [(u, _calculate_score(u)) for u in discord_users_by_id.values()]
     users.sort(key=lambda x: x[1], reverse=True)
 
     leaders = []
     for user, score in users[:10]:
@@ -152,36 +156,14 @@
 
     The intent of the scoring algorithm is to favour users who interact regularly with the
     server, as long as those interactions are not "spread thinly" throughout the server.
 
     For example, posting a lot of messages in a single channel every day may make your score go up,
     but posting one message in all channels very infrequently may make your score go down.
 
-    The score for each discord user is calculated in the following way:
-
-    ((MSG_COUNT + CHAN_COUNT + CMD_COUNT) * AVG_MSGS_PER_CHAN) * TIME_FACTOR
-
-    MSG_COUNT: this is the total number of discord messages sent by the user in all public channels,
-               or in DMs with the bot.
-
-    CHAN_COUNT: this is the total number of public channels the user has sent a message in
-
-    CMD_COUNT: this is the total number of bot commands the user has performed in public channels,
-               or in DMs with the bot.
-
-    AVG_MSGS_PER_CHAN: this is MSG_COUNT divided by CHAN_COUNT
-
-    TIME_FACTOR: this will be between 0.0 and 1.0, depending on the time since the last
-    message sent by the discord user. The scale goes up to 7 days. If the discord user
-    has sent a message in the last few minutes, TIME_SCALE will be 1.0, and if the discord
-    user has sent no messages for 7 days or greater then TIME_SCALE will be 0.0
-
-    If a discord user has been inactive (sent no messages in the server) for 28 days or
-    longer, then MSG_COUNT, CHAN_COUNT and CMD_COUNT are reset to 0.
-
     Commands added:
 
     !socialcredit (see !help socialcredit)
     """
 
     def startup(self):
         """
```

## Comparing `nedry-2.4.1.dist-info/LICENSE` & `nedry-2.4.2.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `nedry-2.4.1.dist-info/METADATA` & `nedry-2.4.2.dist-info/METADATA`

 * *Files 12% similar despite different names*

```diff
@@ -1,1238 +1,1236 @@
-Metadata-Version: 2.1
-Name: nedry
-Version: 2.4.1
-Summary: A fun & useful discord bot with a modular plugin system
-Home-page: http://github.com/eriknyquist/nedry
-Author: Erik Nyquist
-Author-email: eknyquist@gmail.com
-License: Apache 2.0
-Platform: UNKNOWN
-Requires-Python: >=3.9
-License-File: LICENSE
-Requires-Dist: discord.py (==1.7.3)
-Requires-Dist: discord (==1.7.3)
-Requires-Dist: nltk
-Requires-Dist: pytimeparse
-Requires-Dist: requests
-Requires-Dist: twitch-python
-Requires-Dist: versionedobj (>=2.0.3)
-
-Nedry discord bot 2.4.1
-=======================
-
-(formerly "twitch_monitor_discord_bot")
-
-Nedry is a self-hosted discord bot with a modular plugin system. Lots of useful
-behaviour is available out-of-the-box, but you can also install plugins to extend
-Nedry's behaviour, or even write your own plugins.
-
-Some out-of-the-box features include:
-
-* Stream announcements for twitch, with highly configurable stream announcement messages
-  (write your own stream announcement messages with format tokens for variable data like
-  stream url, discord bot name, etc. and optionally disable stream announcements when
-  you yourself are streaming)
-* Scheduled discord messages as DMs or in public channels
-* Telling knock-knock jokes (and remembering jokes that are told by discord users)
-* Looking something up on wikipedia (or providing a summary of a random wikipedia article)
-* Interactive trivia questions (via opentdb.com)
-* Collaborative story writing; provide a randomly selected story prompt, and collect
-  everyone's contributions to build a story together
-
-All of the features mentioned above are implemented as modular plugins in the ``nedry/builtin_plugins``
-directory, which serves as a helpful reference for plugin writers.
-
-To get started right away, see the `Quick start`_ section.
-
-.. contents:: **Table of Contents**
-
-Limitations
-===========
-
-* Nedry currently does not support being invited to multiple discord servers at once--
-  you must run one instance per discord server.
-
-* Nedry is a self-hosted bot-- this means you have to run the python program
-  yourself on a machine that you control, and configure it to connect specifically
-  to your discord server.
-
-Migrating from "twitch_monitor_discord_bot"
-===========================================
-
-The project name changed, but all the features that were present in "twitch_monitor_discord_bot"
-are still present in "nedry". The following steps will be necessary to switch to "nedry":
-
-* Un-install the "twitch_monitor_discord_bot" package, and install the "nedry" package
-* Replace all "twitch_monitor_discord_bot" references to "nedry" (e.g. if you have a
-  script or another program which runs the bot). Your existing bot configuration file for
-  "twitch_monitor_discord_bot" will still work with nedry.
-
-That's it!
-
-Install
-=======
-
-Install for Python (only Python 3.9x or greater is supported) using ``pip``:
-
-::
-
-    python -m pip install nedry
-
-Quick start
-===========
-
-Creating the config file and starting the bot
----------------------------------------------
-
-#. Run the package as a module with no arguments, which will create an empty configuration
-   file called ``default_bot_config.json`` in your current directory and exit immediately.
-
-   ::
-
-       $ python -m nedry
-
-       Created default config file 'default_bot_config.json', please add required parameters
-
-#. Most of the behaviours of this bot can be configured via discord messages while the
-   bot is up and running, but there are a few parameters that need to be set in the configuration
-   file first, to get the bot talking to your discord server. Populate these required
-   parameters in the .json file:
-
-   #. ``discord_bot_api_token``: Discord bot API token must be entered here as a string.
-      `Create a new bot application, and generate/copy token on the "Bot" page <https://discord.com/developers/applications>`_
-      (NOTE: make sure to enable all Privileged Gateway Intents for your bot application).
-
-   #. ``discord_server_id``: Discord server ID (the server that you want the bot to
-      connect to) must be entered here as an integer.
-      `How to find discord user/server/message IDs <https://support.discord.com/hc/en-us/articles/206346498-Where-can-I-find-my-User-Server-Message-ID->`_
-
-   #. ``discord_admin_users``: A list of discord user IDs as integers may be  entered here.
-      Admin users have access to the full set of discord commands that the bot can accept.
-      At the very least, you'll probably want to add your own discord user ID here so that
-      you have full control of the bot.
-      `How to find discord user/server/message IDs <https://support.discord.com/hc/en-us/articles/206346498-Where-can-I-find-my-User-Server-Message-ID->`_
-
-#. Once all required parameters have been set in the .json file, run the package as a module
-   again, but this time pass your configuration file as an argument:
-
-   ::
-
-       $ python -m nedry default_bot_config.json
-
-
-   If configured correctly, then the bot should now connect to your discord server. You're done editing the config file!
-
-
-Further initial configuration: interacting with the bot on discord
-------------------------------------------------------------------
-
-Whenever your bot is online in the discord server, you can issue commands to the bot
-by putting a mention of the bot's discord name at the beginning of the message, either
-in a DM or in any channel the bot has access to, e.g. ``@BotName !command``. The only
-command you *really* need to know is the ``help`` command;
-if you say ``@BotName !help``, then the bot will show you what commands are available
-and show you how to get more specific help with individual commands.
-
-Aside from the first 3 things you set in the bot's configuration file in the previous section,
-everything else about the bot's behaviour can be configured by sending messages/commands to
-the bot on discord. One thing you might want configure in this way, is how twitch streamers
-are monitored for stream announcements.
-
-The following steps are required to enable twitch stream announcements:
-
-#. **Setting which twitch streamers to monitor**
-
-   Send the "addstreamers" command, with one or more arguments, each of which must
-   be the name of an existing twitch channel. e.g. "@BotName !addstreamers channel1 channel2":
-
-   .. image:: images/addstreamers.png
-
-   Changes to the list of streamers are saved in the configuration file.
-
-   For information about how to view the list of streamers being monitored, and how to
-   remove a streamer from the list, use the "@BotName !help streamers" and "@BotName !help removestreamers"
-   commands.
-
-#. **Setting the discord channel for stream announcements**
-
-   Send the "announcechannel" command with one argument, which should be the name of the discord
-   channel you would like stream announcements to be sent to. e.g. "@BotName !announcechannel channel-name":
-
-   .. image:: images/set_channel.png
-
-   The stream announcement channel name is saved in the configuration file.
-
-#. **Setting custom phrases for stream announcements**
-
-   This is optional, but there is only 1 default stream announcement phrase, so
-   you might want to add some of your own. Each time a streamer goes live, one
-   of your stream announcement phrases is picked randomly for the announcement.
-   Phrases may contain format tokens (see the "@BotName !help addphrase" command
-   for more information about format tokens). e.g. "@BotName !addphrase some custom phrase":
-
-   .. image:: images/add_phrase.png
-
-   For reference, the phrase from the previous image produces the following stream announcement
-   when a streamer named "OhmLab" starts streaming on a Wednesday:
-
-   .. image:: images/stream_announcement.PNG
-
-   All stream announcement phrases are saved in the configuration file.
-
-#. **Setting twitch client ID and client secret**
-
-   in a DM with the bot in discord, or in any public channel, send the "twitchclientid"
-   command with two arguments, e.g. "@BotName !twitchclientid xxxx yyyy".
-
-   Replace "xxxx" with your twitch client ID, and replace "yyyy" with  your twitch client
-   secret. You must have a twitch account, and register an application, to obtain a
-   client ID and client secret for your application. `instructions here <https://dev.twitch.tv/docs/authentication/register-app>`_.
-
-   .. image:: images/set_twitchclientid.png
-
-
-   You can change the client ID and client secret at any time, using the same command.
-   The client ID and client secret you provide with this command is saved in the config file,
-   so there is no need to re-send this every time you start the bot.
-
-Running nedry as a systemctl service
-====================================
-
-Use the `nedry.service <https://raw.githubusercontent.com/eriknyquist/nedry/master/scripts/nedry.service>`__
-file available on github to quickly create a systemctl service for running nedry.
-
-NOTE: This service loads a config file at ``/home/ubuntu/nedry_config.json``, you may
-need to edit the "ExecStart" line and change that path to your config file location.
-
-NOTE: This service loads the environment of a user named "ubuntu", you may need to
-edit the "User" line and change the username to your own username.
-
-Writing and using plugins
-=========================
-
-* In order to use plugins, you must add at least one directory path to the ``plugin_directories``
-  list in the configuration file. Plugins are installed by placing the python file(s) directly
-  in the top level of any directory listed in ``plugin_directories`` (not in a subdirectory!).
-  If any valid plugins exist in any the directories listed in ``plugin_directories`` when the
-  bot starts up, they will be loaded and available for use.
-
-* All loaded plugins are enabled by default. To see a list of all plugins, enabled and
-  disabled, use the ``!plugins`` command. To disable/enable a plugin, use the
-  ``!plugson`` and ``!plugsoff`` commands. For example, to disable the built-in
-  ``knock_knock_jokes`` plugin, use ``@BotName !plugsoff knock_knock_jokes``.
-
-* To get started with writing plugins, see `this sample plugin <https://github.com/eriknyquist/nedry/blob/master/example_plugins/echo_dm_example.py>`_.
-
-  Also, see `this more complex built-in plugin <https://github.com/eriknyquist/nedry/blob/master/nedry/builtin_plugins/stories.py>`_
-
-
-Misc. sample bot interactions
-=============================
-
-The following are some screenshots of miscellaneous command / response interactions
-with the bot in discord. This section is *not* intended as a comprehensive reference
-of all available commands (see the "Bot command reference" section at the end for that),
-but rather a quick illustration of what it looks like to interact with the bot in discord.
-
-Announcements for when a twitch streamer goes live
---------------------------------------------------
-
-.. image:: images/stream_announcement.PNG
-
-
-Scheduling a message in a public channel
-----------------------------------------
-
-.. image:: images/scheduled_message.PNG
-
-Scheduling a DM reminder
-------------------------
-
-.. image:: images/reminder.PNG
-
-Requesting a knock-knock joke from the bot
-------------------------------------------
-
-.. image:: images/tell_joke.PNG
-
-Telling a knock-knock joke for the bot to remember
---------------------------------------------------
-
-.. image:: images/remember_joke.PNG
-
-Asking the bot to do a wikipedia search
----------------------------------------
-
-.. image:: images/wiki.png
-
-Asking the bot to make fun of the last thing someone said
----------------------------------------------------------
-
-.. image:: images/mocking.PNG
-
-Configuration file details
-==========================
-
-This section covers all configuration file parameters, including those not covered
-in the Quick Start section. The configuration file must be a .json file of the following form:
-
-::
-
-    {
-        "twitch_client_id": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
-        "twitch_client_secret": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
-        "discord_bot_api_token": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
-        "discord_server_id": 123456789123456789,
-        "discord_channel_name": "my-discord-channel",
-        "poll_period_seconds": 60,
-        "host_streamer": "my-twitch-streamer-name",
-        "silent_when_host_streaming": true,
-        "plugin_data": {},
-        "plugin_directories" : ["/home/user/nedry_plugins"],
-        "discord_admin_users" : [422222187366187010, 487222187346187011],
-        "discord_joke_tellers" : [422222187366187010, 487222187346187011],
-        "jokes": [],
-        "timezones": {},
-        "command_log_file" : "/home/user/twitch_monitor_bot_command_log.txt",
-        "startup_message": "Hello! I am a bot who can monitor twitch streams for you.",
-        "streamers_to_monitor": [
-            "mrsketi",
-            "none_of_many"
-        ],
-        "stream_start_messages": [
-            "{streamer_name} is now streaming! watch it here: {stream_url}",
-            "{streamer_name} is doing something, go see it here: {stream_url}"
-        ]
-    }
-
-Description of fields in configuration file
--------------------------------------------
-
-* ``twitch_client_id``: Enter your Twitch client ID here.
-
-* ``discord_bot_api_token``: Enter the API token for your discord bot application here.
-
-* ``discord_server_id``: Enter the server ID for the server you want the bot to connect to here.
-
-* ``discord_channel_name``: Enter the name of the channel you want the bot to connect to here.
-
-* ``poll_period_seconds``: Enter the desired delay (in seconds) between checking if all streamers are live here.
-
-* ``host_streamer``: Enter the name of your own twitch channel here (optional).
-
-* ``silent_when_host_streaming``: If true, no announcements about other streams will be made when host streamer is live.
-
-* ``plugin_directories``: List of directory names to search for plugins to load on startup
-
-* ``plugin_data``: Holds persistent data for plugins, dict keyed by plugin name
-
-* ``discord_admin_users``: Multiple discord user ID numbers can be added here. Users added
-  here will be allowed to configure the bot by sending commands in discord.
-
-* ``discord_joke_tellers``: Multiple discord user ID numbers can be added here. Any knock-knock
-  jokes told to the bot by discord users in this list, will be "remembered" (stored in the "jokes"
-  list), and can be told back to other discord users later when a joke is requested.
-
-* ``jokes``: Any jokes remembered by the bot from discord users will be stored here.
-
-* ``timezones``: Dict that maps discord user ID numbers to the IANA name of the timezone they are in.
-  When you tell the bot your timezone with the "timezone" command, this is where it is stored.
-
-* ``command_log_file``: Enter desired filename to log commands received from discord messages.
-  Set to "null" if you don't want to log commands.
-
-* ``startup_message``: Enter the message you would like the bot to send when it comes online after being started up here.
-  Message may contain the following format tokens:
-
-  * ``{botname}`` : replaced with bot name that is seen by other discord users
-  * ``{date}`` : will be replaced with current date in DD/MM/YYY format
-  * ``{times}`` : will be replaced with current time in HH:MM:SS format
-  * ``{time}`` : will be replaced with current time in HH:MM format
-  * ``{day}`` : will be replaced with the name of the current weekday (e.g. "Monday")
-  * ``{month}`` : will be replaced with the name of the current month (e.g. "January")
-  * ``{year}`` : will be replaced with the current year (e.g. "2022")
-
-
-* ``streamers_to_monitor``: Enter the list of streamer names to monitor here.
-
-* ``stream_start_messages``: Multiple messages can be defined here to be used as announcements
-  for streamers going live. Messages may contain the following format tokens:
-
-  * ``{streamer_name}`` : will be replaced with the name of the streamer
-  * ``{stream_url}`` : will be replaced with the stream URL on twitch.com
-  * ``{botname}`` : replaced with bot name that is seen by other discord users
-  * ``{date}`` : will be replaced with current date in DD/MM/YYY format
-  * ``{times}`` : will be replaced with current time in HH:MM:SS format
-  * ``{time}`` : will be replaced with current time in HH:MM format
-  * ``{day}`` : will be replaced with the name of the current weekday (e.g. "Monday")
-  * ``{month}`` : will be replaced with the name of the current month (e.g. "January")
-  * ``{year}`` : will be replaced with the current year (e.g. "2022")
-
-Event reference for plugins
-===========================
-
-If you are writing a plugin, you probably need to subscribe to some events (as shown
-in `this example plugin <https://github.com/eriknyquist/nedry/blob/master/example_plugins/echo_dm_example.py>`_).
-This section enumerates al available event types in ``nedry.event_types.events``, along
-with their expected arguments and a brief description:
-
-.. list-table:: nedry.event_types.EventType
-   :widths: 30 30 30
-   :header-rows: 1
-
-   * - Event
-     - Event arguments
-     - Event description
-
-   * - DISCORD_MESSAGE_RECEIVED
-     - (message)
-
-       "message" is the discord.py message object (see
-       `discord.py docs <https://discordpy.readthedocs.io/en/stable/api.html#discord.Message>`__)
-     - Emitted whenever any discord message is received, either in a public channel
-       which the bot has access to, or in a DM with the bot.
-
-   * - DISCORD_BOT_MENTION
-     - (message, text_without_mention)
-
-       "message" is the discord.py message object (see
-       `discord.py docs <https://discordpy.readthedocs.io/en/stable/api.html#discord.Message>`__).
-       "text_without_mention" is the message text with the bot mention stripped out.
-     - Emitted whenever any discord message that starts with a mention of the bots
-       discord name is received, either in a public channel which the bot has access
-       to, or in a DM with the bot. Only mentions which are not followed by a command are
-       included here, there is a separate event for commands, BOT_COMMAND_RECEIVED
-
-   * - NEW_DISCORD_MEMBER
-     - (member)
-
-       "member" is the discord.py User object of the member who joined
-       (see `discord.py docs <https://discordpy.readthedocs.io/en/stable/api.html#discord.User>`__).
-     - Emitted whenever a new user joins the discord server.
-
-   * - DISCORD_CONNECTED
-     - No arguments
-     - Emmitted whenever the bot is connected to the configured discord server
-       (this can take up to a few seconds after startup)
-
-   * - BOT_COMMAND_RECEIVED
-     - (message, text_without_mention)
-
-       "message" is the discord.py message object (see
-       `discord.py docs <https://discordpy.readthedocs.io/en/stable/api.html#discord.Message>`__)
-       "text_without_mention" is the message text with the bot mention stripped out.
-
-     - Emitted whenever a message starting with a bot mention followed by the command
-       prefix character ("!") is received, either in a public channel which the bot has
-       access to, or in a DM with the bot. Event is emitted before the command is handled.
-
-   * - BOT_SENDING_MESSAGE
-     - (channel, message_text)
-
-       "channel" is the discord.py Channel object for the channel the message is being sent on
-       (see `discord.py docs <https://discordpy.readthedocs.io/en/stable/api.html#discord.TextChannel>`_).
-       "message_text" is the message that will be sent to the channel.
-
-     - Emitted whenever the bot is about to send a message to public channel or to a DM.
-
-   * - TWITCH_STREAM_STARTED
-     - (name, url)
-
-       "name" is the Twitch name of the streamer who started streaming.
-       "url" is the Twitch URL of the stream that started.
-     - Emitted whenever one of the streamers configured for monitoring starts streaming.
-
-   * - TWITCH_STREAM_ENDED
-     - (name, url)
-
-       "name" is the Twitch name of the streamer who stopped streaming.
-       "url" is the Twitch URL of the stream that ended.
-     - Emitted whenever one of the streamers configured for monitoring stops streaming.
-
-   * - HOST_STREAM_STARTED
-     - No arguments
-     - Emitted when the configured host streamer starts streaming
-
-   * - HOST_STREAM_ENDED
-     - No arguments
-     - Emitted when the configured host streamer stops streaming
-
-Reporting problems
-==================
-
-If you find a problem or a typo please report it by `creating a new issue on Github <https://github.com/eriknyquist/nedry/issues>`_.
-
-Contributions
-=============
-
-Contributions are welcome, please `open a pull request on Github <https://github.com/eriknyquist/nedry/pulls>`_.
-
-Bot command reference
-=====================
-
-Command ``help``
-----------------
-
-::
-
-
-   help [command]
-
-   Shows helpful information about the given command. Replace [command] with the
-   command you want help with.
-
-
-   Example:
-
-   @BotName !help wiki
-
-   All discord users may use this command.
-
-
-Command ``info``
-----------------
-
-::
-
-
-   info
-
-   Show general information about the bot, including but not limited to;
-
-   - Python package version
-   - Uptime (how long the bot has been running for)
-   - Installed plugins, both enabled and disabled
-
-   Example:
-
-   @BotName !help info
-
-   All discord users may use this command.
-
-
-Command ``quote``
------------------
-
-::
-
-
-   quote
-
-   Displays a random famous quote
-
-   Example:
-
-   @BotName !quote
-
-   All discord users may use this command.
-
-
-Command ``timezone``
---------------------
-
-::
-
-
-   timezone [timezone_name]
-
-   Set the timezone for the author of the discord message, allowing this
-   discord user to provide/see dates and times in their local timezone.
-
-   [timezone_name] should be replaced with the name of a timezone from the IANA
-   time zone database, or some substring, e.g. "london" or "los angeles". If you
-   live in a big city, then often just typing the name of the city here will be
-   enough. If you are having issues, however, try selecting your region on
-   this IANA timezone map, and using the country/city name that is shown in
-   the drop-down selection box: https://kevalbhatt.github.io/timezone-picker
-
-   Sending this command with no arguments will query the timezone currently
-   assigned to the author of the discord message.
-
-   Example:
-
-   @BotName !timezone           # Query timezone setting for this discord user
-   @BotName !timezone london    # Set timezone for this discord user to "Europe/London"
-
-   All discord users may use this command.
-
-
-Command ``streamers``
----------------------
-
-::
-
-
-   streamers
-
-   Shows a list of streamers currently being monitored.
-
-   Example:
-
-   @BotName !streamers
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``addstreamers``
-------------------------
-
-::
-
-
-   addstreamers [name] ...
-
-   Adds one or more new streamers to list of streamers being monitored. Replace
-   [name] with the twitch name(s) of the streamer(s) you want to monitor.
-
-   Example:
-
-   @BotName !addstreamers streamer1 streamer2 streamer3
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``removestreamers``
----------------------------
-
-::
-
-
-   removestreamers [name] ...
-
-   Removes one or more streamers from the  list of streamers being monitored. Replace [name]
-   with the twitch name(s) of the streamer(s) you want to remove.
-
-   Example:
-
-   @BotName !removestreamers streamer1 streamer2 streamer3
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``clearallstreamers``
------------------------------
-
-::
-
-
-   clearallstreamers
-
-   Clears the list of streamers currently being monitored.
-
-   Example:
-
-   @BotName !clearallstreamers
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``phrases``
--------------------
-
-::
-
-
-   phrases
-
-   Shows a numbered list of phrases currently in use for stream announcements.
-
-   Example:
-
-   @BotName !phrases
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``testphrases``
------------------------
-
-::
-
-
-   testphrases
-
-   Shows all phrases currently in use for stream announcements, with the format tokens
-   populated, so you can see what they will look like when posted to the discord channel.
-
-   Example:
-
-   @BotName !testphrases
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``addphrase``
----------------------
-
-::
-
-
-   addphrase [phrase]
-
-   Adds a new phrase to be used for stream annnouncements. The following format
-   tokens may be used within a phrase:
-
-       {streamer_name} : replaced with the streamer's twitch name
-       {stream_url}    : replaced with the stream URL on twitch.tv
-       {botname}       : replaced with bot name that is seen by other discord users
-       {date}          : replaced with current date in DD/MM/YYY format
-       {times}         : replaced with current time in HH:MM:SS format
-       {time}          : replaced with current time in HH:MM format
-       {day}           : replaced with the name of the current weekday (e.g. "Monday")
-       {month}         : replaced with the name of the current month (e.g. "January")
-       {year}          : replaced with the current year (e.g. "2022")
-
-   Example:
-
-   @BotName !addphrase "{streamer_name} is now streaming at {stream_url}!"
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``removephrases``
--------------------------
-
-::
-
-
-   removephrases [number] [number] ...
-
-   Removes one or more phrases from the list of phrases being used for stream announcements.
-   [number] must be replaced with the number for the desired phrase, as shown in the
-   numbered list produced by the 'phrases' command. In other words, in order to remove
-   a phrase, you must first look at the output of the "phrases" command to get the
-   number of the phrase you want to remove.
-
-   Example:
-
-   @BotName !removephrases 3 4 5
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``nocompetition``
--------------------------
-
-::
-
-
-   nocompetition [enabled]
-
-   [enabled] must be replaced with either 'true' or 'false'. If true, then no
-   announcements about other streams will be made while the host streamer is streaming.
-   If false, then announcements will always be made, even if the host streamer is streaming.
-
-   (To check if nocompetition is enabled, run the command with no true/false argument)
-
-   Examples:
-
-   @BotName !nocompetition true     (enable nocompetition)
-   @BotName !nocompetition false    (enable nocompetition)
-   @BotName !nocompetition          (check current state)
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``cmdhistory``
-----------------------
-
-::
-
-
-   cmdhistory [entry_count]
-
-   Show the last few entries in the command log file. If no count is given then the
-   last 25 entries are shown.
-
-   Examples:
-
-   @BotName !cmdhistory     (show last 25 entries)
-   @BotName !cmdhistory 5   (show last 5 entries)
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``say``
----------------
-
-::
-
-
-   say [stuff to say]
-
-   Causes the bot to send a message in the announcements channel, immediately, containing
-   whatever you type in place of [stuff to say].
-
-   Example:
-
-   @BotName !say Good morning
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``plugins``
--------------------
-
-::
-
-
-   plugins
-
-   Show all loaded plugins, and show which ones are currently enabled
-
-   Example:
-
-   @BotName !help wiki
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``plugson``
--------------------
-
-::
-
-
-   plugson [plugin_name] [plugin_name] ...
-
-   Enable / turn on one or more plugins by name (plugin names can be seen in the
-   output of the 'plugins' command, surrounded by square braces e.g. "[]").
-
-   Example:
-
-   @BotName !pluginon knock_knock_jokes other_plugin
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``plugsoff``
---------------------
-
-::
-
-
-   plugsoff [plugin_name] [plugin_name] ...
-
-   Disable / turn off one or more plugins by name (plugin names can be seen in the
-   output of the 'plugins' command, surrounded by square braces e.g. "[]").
-
-   Example:
-
-   @BotName !pluginoff knock_knock_jokes other_plugin
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``pluginfo``
---------------------
-
-::
-
-
-   pluginfo [plugin_name]
-
-   Query information about a loaded plugin.
-
-   Example:
-
-   @BotName !pluginfo knock_knock_jokes
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``twitchclientid``
---------------------------
-
-::
-
-
-   twitchclientid [client_id_string] [client_secret_string]
-
-   Sets the client ID and client secret used to interact with the Twitch API.
-   Replace [client_id_string] with the client ID string for your twitch application.
-   Replace [client_secret_string] with the client secret string for your twitch application.
-
-   Example:
-
-   @BotName !help twitchclientid XXXXXXXXXXXX YYYYYYYYYYYY
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``announcechannel``
----------------------------
-
-::
-
-
-   announcechannel [discord_channel_name]
-
-   Sets the discord channel where stream announcements will be posted. If no discord
-   channel name is provided, then the name of the current stream announcements channel
-   will be returned.
-
-   Example:
-
-   @BotName !announcechannel                # Query current channel name
-   @BotName !announcechannel my-channel     # Set announcements channel to 'my-channel'
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``joke``
-----------------
-
-::
-
-
-   joke
-
-   Tells an interactive knock-knock joke.
-
-   You can also *tell* knock-knock jokes to the bot, and it will remember new jokes
-   to tell them back to you later when you send this command.
-
-   Any discord users can tell jokes to the bot, but only jokes told by users listed
-   in 'discord_joke_tellers' in the configuration file will be remembered.
-
-   Example:
-
-   @BotName !joke
-
-   All discord users may use this command.
-
-
-Command ``wiki``
-----------------
-
-::
-
-
-   wiki [search text]
-
-   Search the provided text using Wikipedia's public API, and return the summary text
-   (generally the first paragraph) of the first page in the search results. If no search
-   text is provided, then a random Wikipedia article will be selected instead.
-
-   Examples:
-
-   @BotName !wiki python language   (Show summary of wiki page for Python programming language)
-   @BotName !wiki                   (Show summary of a random wiki page)
-
-   All discord users may use this command.
-
-
-Command ``mock``
-----------------
-
-::
-
-
-   mock [mention]
-
-   Repeat the last thing said by a specific user in a "mocking" tone. Replace [mention]
-   with a mention of the discord user you want to mock.
-
-   Example:
-
-   @BotName !mock @discord_user
-
-   All discord users may use this command.
-
-
-Command ``apologize``
----------------------
-
-::
-
-
-   apologize [mention]
-
-   Apologize to a specific user for having mocked them. Replace [mention]
-   with a mention of the discord user you want to apologize to.
-
-   Example:
-
-   @BotName !apologize @discord_user
-
-   All discord users may use this command.
-
-
-Command ``apologise``
----------------------
-
-::
-
-
-   apologise [mention]
-
-   Apologize to a specific user for having mocked them. Replace [mention]
-   with a mention of the discord user you want to apologize to.
-
-   Example:
-
-   @BotName !apologize @discord_user
-
-   All discord users may use this command.
-
-
-Command ``schedule``
---------------------
-
-::
-
-
-   schedule [channel_name] [message_text] in|on|at [time_description]
-
-   Set up a message to be sent by the bot in a specific discord channel after a specific
-   time delay.
-
-   [channel_name] should be replaced with name of the discord channel in which you
-   want the message to be sent.
-
-   [message_text] should be replaced with whatever text you want to be sent in the discord message.
-
-   [time_description] should be replaced with a description of the desired time before
-   the message is delivered to the channel. The time can be described in one of the following ways:
-
-   - An absolute delay period written in english, using digits (e.g. "5") instead of
-     words (e.g. "five") for number values. For example: "1 minute", "2 hours and 3 minutes",
-     "2hrs3mins", "2 hours & 3 minutes"
-
-   - A specific date and time, written in one of the following formats:
-
-     * DD/MM/YYYY HH:MM
-     * YYYY/MM/DD HH:MM
-     * HH:MM DD/MM/YYYY
-     * HH:MM YYYY/MM/DD
-
-     NOTE: if you are using a specific date/time, you should first tell the bot which
-     timezone you are in using the "!timezone" command. That way, you can provide dates/times
-     in your local timezone. You only have to set your timezone once, the bot will
-     remember it (see "@BotName !help timezone" for more details about how to set your timezone).
-
-   Sending the command with no arguments returns the list of currently scheduled messages.
-
-   Examples:
-
-   @BotName !schedule                                    # Query currently scheduled messages
-   @BotName !schedule jokes haha! in 2 hours             # Schedule message to "jokes" in 2 hours
-   @BotName !schedule news raining :( in 1h & 10m        # Schedule message to "news" in 1 hour, 10 mins
-   @BotName !schedule general howdy! at 17:02 23/10/2025 # Schedule message to "general" at specific date & time
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``unschedule``
-----------------------
-
-::
-
-
-   unschedule [message_number] [message_number] ...
-   unschedule all
-   unschedule last
-
-   Remove one or more scheduled messages by number. [message_number] should be replaced
-   with the number of the message you want to remove, as shown by the output of running the
-   '!schedule' command with no arguments.
-
-   Alternatively, instead of passing numbers, you can pass a single argument of "all"
-   to remove all scheduled messages at once, or "last" to remove the most recently
-   added scheduled message.
-
-   Examples:
-
-   @BotName !unschedule last          # Remove last added message
-   @BotName !unschedule all           # Remove all messages
-   @BotName !unschedule 2             # Remove message #2
-   @BotName !unschedule 5 6           # Remove messages 5 and 6
-
-   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
-
-
-Command ``remindme``
---------------------
-
-::
-
-
-   remindme [reminder_text] in|on|at [time_description]
-
-   Set up a reminder. After the specified time, the bot will send you a DM with whatever
-   text you provided for [reminder_text].
-
-   [reminder_text] should be replaced with whatever text you want in the reminder message,
-   e.g. the thing that you want to be reminded of.
-
-   [time_description] should be replaced with a description of the desired time before
-   the reminder is delivered. The time can be described in one of the following ways:
-
-   - An absolute delay period written in english, using digits (e.g. "5") instead of
-     words (e.g. "five") for number values. For example: "1 minute", "2 hours and 3 minutes",
-     "2hrs3mins", "2 hours & 3 minutes"
-
-   - A specific date and time, written in one of the following formats:
-
-     * DD/MM/YYYY HH:MM
-     * YYYY/MM/DD HH:MM
-     * HH:MM DD/MM/YYYY
-     * HH:MM YYYY/MM/DD
-
-     NOTE: if you are using a specific date/time, you should first tell the bot which
-     timezone you are in using the "!timezone" command. That way, you can provide dates/times
-     in your local timezone. You only have to set your timezone once, the bot will
-     remember it (see "@BotName !help timezone" for more details about how to set your timezone).
-
-   Sending the command with no arguments returns the list of active reminders
-   for the user that sent the command.
-
-   Examples:
-
-   @BotName !remindme                                           # Query current reminders for me
-   @BotName !remindme To take out the trash... in 12 hours      # schedule reminder in 12 hours
-   @BotName !remindme to take a shower :D in 1 day and 5 mins   # Schedule reminder in 1 day and 5 minutes
-   @BotName !remindme to brush my teeth on 22/4/2025 14:30      # Schedule reminder at specific date & time
-
-   All discord users may use this command.
-
-
-Command ``unremind``
---------------------
-
-::
-
-
-   unremind [reminder_number] [reminder_number] ...
-   unremind all
-   unremind last
-
-   Remove one or more reminders by number. [reminder_number] should be replaced with the
-   number of the reminder you want to remove, as shown by the output of running the
-   '!remindme' command with no arguments.
-
-   Alternatively, instead of passing numbers, you can pass a single argument of "all"
-   to remove all reminders at once, or "last" to remove the last reminder that you scheduled.
-
-   Examples:
-
-   @BotName !unremind last          # Remove last added reminder
-   @BotName !unremind all           # Remove all reminders
-   @BotName !unremind 2             # Remove reminder #2
-   @BotName !unremind 5 6           # Remove reminders 5 and 6
-
-   All discord users may use this command.
-
-
-Command ``trivia``
-------------------
-
-::
-
-
-   trivia [time_limit]
-
-   Fetch a trivia question from opentdb.com and allow all discord users to provide
-   an answer until the time limit is up. Whoever provides the correct answer first
-   gets 2 points, and any other correct answers that came after that get 1 point.
-   If the correct answer is not provided, then no points are awarded.
-
-   [time_limit] should be replaced with the desired time limit for the question, in seconds.
-   This parameter is optional; if no time limit is provided then a time limit of 60 seconds
-   will be used.
-
-   Example:
-
-   @BotName !trivia
-
-   All discord users may use this command.
-
-
-Command ``triviascores``
-------------------------
-
-::
-
-
-   triviascores
-
-   Shows total score for all discord users who have ever answered a trivia question correctly.
-   The first correct answer to a trivia question gets 2 points, and all other correct answers
-   get 1 point.
-
-   Example:
-
-   @BotName !triviascores
-
-   All discord users may use this command.
-
-
-Command ``story``
------------------
-
-::
-
-
-   story new|add|continue|show|stop [optional story contribution text]
-
-   Interact with the story being written on the current discord channel.
-
-   The first argument to this command may be one of the following 5 operations:
-
-   new      - Start a new story in this channel.
-
-   add      - Contribute the next part of the story being written on this channel.
-              [optional story contribution text] should be replaced with your desired
-              text for the next part of the story.
-
-   continue - Instead of starting a new story with a random prompt, add to an existing
-              story by providing the whole story. [optional story contribution text]
-              should be replaced with the text of the story that you want to continue.
-              (Note: if your story is too large to fit in a single discord message,
-              you may need to start with a smaller portion of the story, and afterwards
-              add the remaining text using the '!story add' command)
-
-   show     - Show the current story as written so far.
-
-   stop     - Stop the story writing session, and show the story as written so far.
-
-   Examples:
-
-   @BotName !story new                            (Provide a random prompt to start a new story)
-   @BotName !story add And then he fell down...   (Contribute to the current story)
-   @BotName !story continue Call me Ishmael       (Start new story with provided text, no prompt)
-   @BotName !story show                           (Show the story as written so far)
-   @BotName !story stop                           (Stop the story)
-
-   All discord users may use this command.
-
-
-Command ``socialcredit``
-------------------------
-
-::
-
-
-   socialcredit [top]
-
-   Show your social credit score.
-
-   The scoring algorithm is designed to favour users who interact regularly with the
-   server, as long as those interactions are not "spread thinly" throughout the server.
-
-   For example, posting a lot of messages in a single channel every day may make your score go up,
-   but posting one message in all channels very infrequently may make your score go down.
-
-   Using the command with no arguments shows your own social credit score. Using the command
-   with a single argument of "top" (e.g. "!socialcredit top") shows the 10 users with the highest
-   social credit score.
-
-   Example:
-
-   @BotName !socialcredit                 # Show your social credit score
-   @BotName !socialcredit top             # Show highest 10 scores
-
-   All discord users may use this command.
-
-
-
+Metadata-Version: 2.1
+Name: nedry
+Version: 2.4.2
+Summary: A fun & useful discord bot with a modular plugin system
+Home-page: http://github.com/eriknyquist/nedry
+Author: Erik Nyquist
+Author-email: eknyquist@gmail.com
+License: Apache 2.0
+Requires-Python: >=3.9
+License-File: LICENSE
+Requires-Dist: requests
+Requires-Dist: pytimeparse
+Requires-Dist: twitch-python
+Requires-Dist: versionedobj (>=2.0.3)
+Requires-Dist: discord.py (==1.7.3)
+Requires-Dist: discord (==1.7.3)
+Requires-Dist: nltk
+
+Nedry discord bot 2.4.2
+=======================
+
+(formerly "twitch_monitor_discord_bot")
+
+Nedry is a self-hosted discord bot with a modular plugin system. Lots of useful
+behaviour is available out-of-the-box, but you can also install plugins to extend
+Nedry's behaviour, or even write your own plugins.
+
+Some out-of-the-box features include:
+
+* Stream announcements for twitch, with highly configurable stream announcement messages
+  (write your own stream announcement messages with format tokens for variable data like
+  stream url, discord bot name, etc. and optionally disable stream announcements when
+  you yourself are streaming)
+* Scheduled discord messages as DMs or in public channels
+* Telling knock-knock jokes (and remembering jokes that are told by discord users)
+* Looking something up on wikipedia (or providing a summary of a random wikipedia article)
+* Interactive trivia questions (via opentdb.com)
+* Collaborative story writing; provide a randomly selected story prompt, and collect
+  everyone's contributions to build a story together
+
+All of the features mentioned above are implemented as modular plugins in the ``nedry/builtin_plugins``
+directory, which serves as a helpful reference for plugin writers.
+
+To get started right away, see the `Quick start`_ section.
+
+.. contents:: **Table of Contents**
+
+Limitations
+===========
+
+* Nedry currently does not support being invited to multiple discord servers at once--
+  you must run one instance per discord server.
+
+* Nedry is a self-hosted bot-- this means you have to run the python program
+  yourself on a machine that you control, and configure it to connect specifically
+  to your discord server.
+
+Migrating from "twitch_monitor_discord_bot"
+===========================================
+
+The project name changed, but all the features that were present in "twitch_monitor_discord_bot"
+are still present in "nedry". The following steps will be necessary to switch to "nedry":
+
+* Un-install the "twitch_monitor_discord_bot" package, and install the "nedry" package
+* Replace all "twitch_monitor_discord_bot" references to "nedry" (e.g. if you have a
+  script or another program which runs the bot). Your existing bot configuration file for
+  "twitch_monitor_discord_bot" will still work with nedry.
+
+That's it!
+
+Install
+=======
+
+Install for Python (only Python 3.9x or greater is supported) using ``pip``:
+
+::
+
+    python -m pip install nedry
+
+Quick start
+===========
+
+Creating the config file and starting the bot
+---------------------------------------------
+
+#. Run the package as a module with no arguments, which will create an empty configuration
+   file called ``default_bot_config.json`` in your current directory and exit immediately.
+
+   ::
+
+       $ python -m nedry
+
+       Created default config file 'default_bot_config.json', please add required parameters
+
+#. Most of the behaviours of this bot can be configured via discord messages while the
+   bot is up and running, but there are a few parameters that need to be set in the configuration
+   file first, to get the bot talking to your discord server. Populate these required
+   parameters in the .json file:
+
+   #. ``discord_bot_api_token``: Discord bot API token must be entered here as a string.
+      `Create a new bot application, and generate/copy token on the "Bot" page <https://discord.com/developers/applications>`_
+      (NOTE: make sure to enable all Privileged Gateway Intents for your bot application).
+
+   #. ``discord_server_id``: Discord server ID (the server that you want the bot to
+      connect to) must be entered here as an integer.
+      `How to find discord user/server/message IDs <https://support.discord.com/hc/en-us/articles/206346498-Where-can-I-find-my-User-Server-Message-ID->`_
+
+   #. ``discord_admin_users``: A list of discord user IDs as integers may be  entered here.
+      Admin users have access to the full set of discord commands that the bot can accept.
+      At the very least, you'll probably want to add your own discord user ID here so that
+      you have full control of the bot.
+      `How to find discord user/server/message IDs <https://support.discord.com/hc/en-us/articles/206346498-Where-can-I-find-my-User-Server-Message-ID->`_
+
+#. Once all required parameters have been set in the .json file, run the package as a module
+   again, but this time pass your configuration file as an argument:
+
+   ::
+
+       $ python -m nedry default_bot_config.json
+
+
+   If configured correctly, then the bot should now connect to your discord server. You're done editing the config file!
+
+
+Further initial configuration: interacting with the bot on discord
+------------------------------------------------------------------
+
+Whenever your bot is online in the discord server, you can issue commands to the bot
+by putting a mention of the bot's discord name at the beginning of the message, either
+in a DM or in any channel the bot has access to, e.g. ``@BotName !command``. The only
+command you *really* need to know is the ``help`` command;
+if you say ``@BotName !help``, then the bot will show you what commands are available
+and show you how to get more specific help with individual commands.
+
+Aside from the first 3 things you set in the bot's configuration file in the previous section,
+everything else about the bot's behaviour can be configured by sending messages/commands to
+the bot on discord. One thing you might want configure in this way, is how twitch streamers
+are monitored for stream announcements.
+
+The following steps are required to enable twitch stream announcements:
+
+#. **Setting which twitch streamers to monitor**
+
+   Send the "addstreamers" command, with one or more arguments, each of which must
+   be the name of an existing twitch channel. e.g. "@BotName !addstreamers channel1 channel2":
+
+   .. image:: images/addstreamers.png
+
+   Changes to the list of streamers are saved in the configuration file.
+
+   For information about how to view the list of streamers being monitored, and how to
+   remove a streamer from the list, use the "@BotName !help streamers" and "@BotName !help removestreamers"
+   commands.
+
+#. **Setting the discord channel for stream announcements**
+
+   Send the "announcechannel" command with one argument, which should be the name of the discord
+   channel you would like stream announcements to be sent to. e.g. "@BotName !announcechannel channel-name":
+
+   .. image:: images/set_channel.png
+
+   The stream announcement channel name is saved in the configuration file.
+
+#. **Setting custom phrases for stream announcements**
+
+   This is optional, but there is only 1 default stream announcement phrase, so
+   you might want to add some of your own. Each time a streamer goes live, one
+   of your stream announcement phrases is picked randomly for the announcement.
+   Phrases may contain format tokens (see the "@BotName !help addphrase" command
+   for more information about format tokens). e.g. "@BotName !addphrase some custom phrase":
+
+   .. image:: images/add_phrase.png
+
+   For reference, the phrase from the previous image produces the following stream announcement
+   when a streamer named "OhmLab" starts streaming on a Wednesday:
+
+   .. image:: images/stream_announcement.PNG
+
+   All stream announcement phrases are saved in the configuration file.
+
+#. **Setting twitch client ID and client secret**
+
+   in a DM with the bot in discord, or in any public channel, send the "twitchclientid"
+   command with two arguments, e.g. "@BotName !twitchclientid xxxx yyyy".
+
+   Replace "xxxx" with your twitch client ID, and replace "yyyy" with  your twitch client
+   secret. You must have a twitch account, and register an application, to obtain a
+   client ID and client secret for your application. `instructions here <https://dev.twitch.tv/docs/authentication/register-app>`_.
+
+   .. image:: images/set_twitchclientid.png
+
+
+   You can change the client ID and client secret at any time, using the same command.
+   The client ID and client secret you provide with this command is saved in the config file,
+   so there is no need to re-send this every time you start the bot.
+
+Running nedry as a systemctl service
+====================================
+
+Use the `nedry.service <https://raw.githubusercontent.com/eriknyquist/nedry/master/scripts/nedry.service>`__
+file available on github to quickly create a systemctl service for running nedry.
+
+NOTE: This service loads a config file at ``/home/ubuntu/nedry_config.json``, you may
+need to edit the "ExecStart" line and change that path to your config file location.
+
+NOTE: This service loads the environment of a user named "ubuntu", you may need to
+edit the "User" line and change the username to your own username.
+
+Writing and using plugins
+=========================
+
+* In order to use plugins, you must add at least one directory path to the ``plugin_directories``
+  list in the configuration file. Plugins are installed by placing the python file(s) directly
+  in the top level of any directory listed in ``plugin_directories`` (not in a subdirectory!).
+  If any valid plugins exist in any the directories listed in ``plugin_directories`` when the
+  bot starts up, they will be loaded and available for use.
+
+* All loaded plugins are enabled by default. To see a list of all plugins, enabled and
+  disabled, use the ``!plugins`` command. To disable/enable a plugin, use the
+  ``!plugson`` and ``!plugsoff`` commands. For example, to disable the built-in
+  ``knock_knock_jokes`` plugin, use ``@BotName !plugsoff knock_knock_jokes``.
+
+* To get started with writing plugins, see `this sample functional plugin <https://github.com/eriknyquist/nedry/blob/master/example_plugins/echo_mentions_example.py>`_
+  and `this plugin template file <https://github.com/eriknyquist/nedry/blob/master/example_plugins/plugin_template.py>`_ (copy, paste & modify to make your own plugin).
+
+  Also, see `this more complex built-in plugin <https://github.com/eriknyquist/nedry/blob/master/nedry/builtin_plugins/stories.py>`_
+
+
+Misc. sample bot interactions
+=============================
+
+The following are some screenshots of miscellaneous command / response interactions
+with the bot in discord. This section is *not* intended as a comprehensive reference
+of all available commands (see the "Bot command reference" section at the end for that),
+but rather a quick illustration of what it looks like to interact with the bot in discord.
+
+Announcements for when a twitch streamer goes live
+--------------------------------------------------
+
+.. image:: images/stream_announcement.PNG
+
+
+Scheduling a message in a public channel
+----------------------------------------
+
+.. image:: images/scheduled_message.PNG
+
+Scheduling a DM reminder
+------------------------
+
+.. image:: images/reminder.PNG
+
+Requesting a knock-knock joke from the bot
+------------------------------------------
+
+.. image:: images/tell_joke.PNG
+
+Telling a knock-knock joke for the bot to remember
+--------------------------------------------------
+
+.. image:: images/remember_joke.PNG
+
+Asking the bot to do a wikipedia search
+---------------------------------------
+
+.. image:: images/wiki.png
+
+Asking the bot to make fun of the last thing someone said
+---------------------------------------------------------
+
+.. image:: images/mocking.PNG
+
+Configuration file details
+==========================
+
+This section covers all configuration file parameters, including those not covered
+in the Quick Start section. The configuration file must be a .json file of the following form:
+
+::
+
+    {
+        "twitch_client_id": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
+        "twitch_client_secret": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
+        "discord_bot_api_token": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
+        "discord_server_id": 123456789123456789,
+        "discord_channel_name": "my-discord-channel",
+        "poll_period_seconds": 60,
+        "host_streamer": "my-twitch-streamer-name",
+        "silent_when_host_streaming": true,
+        "plugin_data": {},
+        "plugin_directories" : ["/home/user/nedry_plugins"],
+        "discord_admin_users" : [422222187366187010, 487222187346187011],
+        "discord_joke_tellers" : [422222187366187010, 487222187346187011],
+        "jokes": [],
+        "timezones": {},
+        "command_log_file" : "/home/user/twitch_monitor_bot_command_log.txt",
+        "startup_message": "Hello! I am a bot who can monitor twitch streams for you.",
+        "streamers_to_monitor": [
+            "mrsketi",
+            "none_of_many"
+        ],
+        "stream_start_messages": [
+            "{streamer_name} is now streaming! watch it here: {stream_url}",
+            "{streamer_name} is doing something, go see it here: {stream_url}"
+        ]
+    }
+
+Description of fields in configuration file
+-------------------------------------------
+
+* ``twitch_client_id``: Enter your Twitch client ID here.
+
+* ``discord_bot_api_token``: Enter the API token for your discord bot application here.
+
+* ``discord_server_id``: Enter the server ID for the server you want the bot to connect to here.
+
+* ``discord_channel_name``: Enter the name of the channel you want the bot to connect to here.
+
+* ``poll_period_seconds``: Enter the desired delay (in seconds) between checking if all streamers are live here.
+
+* ``host_streamer``: Enter the name of your own twitch channel here (optional).
+
+* ``silent_when_host_streaming``: If true, no announcements about other streams will be made when host streamer is live.
+
+* ``plugin_directories``: List of directory names to search for plugins to load on startup
+
+* ``plugin_data``: Holds persistent data for plugins, dict keyed by plugin name
+
+* ``discord_admin_users``: Multiple discord user ID numbers can be added here. Users added
+  here will be allowed to configure the bot by sending commands in discord.
+
+* ``discord_joke_tellers``: Multiple discord user ID numbers can be added here. Any knock-knock
+  jokes told to the bot by discord users in this list, will be "remembered" (stored in the "jokes"
+  list), and can be told back to other discord users later when a joke is requested.
+
+* ``jokes``: Any jokes remembered by the bot from discord users will be stored here.
+
+* ``timezones``: Dict that maps discord user ID numbers to the IANA name of the timezone they are in.
+  When you tell the bot your timezone with the "timezone" command, this is where it is stored.
+
+* ``command_log_file``: Enter desired filename to log commands received from discord messages.
+  Set to "null" if you don't want to log commands.
+
+* ``startup_message``: Enter the message you would like the bot to send when it comes online after being started up here.
+  Message may contain the following format tokens:
+
+  * ``{botname}`` : replaced with bot name that is seen by other discord users
+  * ``{date}`` : will be replaced with current date in DD/MM/YYY format
+  * ``{times}`` : will be replaced with current time in HH:MM:SS format
+  * ``{time}`` : will be replaced with current time in HH:MM format
+  * ``{day}`` : will be replaced with the name of the current weekday (e.g. "Monday")
+  * ``{month}`` : will be replaced with the name of the current month (e.g. "January")
+  * ``{year}`` : will be replaced with the current year (e.g. "2022")
+
+
+* ``streamers_to_monitor``: Enter the list of streamer names to monitor here.
+
+* ``stream_start_messages``: Multiple messages can be defined here to be used as announcements
+  for streamers going live. Messages may contain the following format tokens:
+
+  * ``{streamer_name}`` : will be replaced with the name of the streamer
+  * ``{stream_url}`` : will be replaced with the stream URL on twitch.com
+  * ``{botname}`` : replaced with bot name that is seen by other discord users
+  * ``{date}`` : will be replaced with current date in DD/MM/YYY format
+  * ``{times}`` : will be replaced with current time in HH:MM:SS format
+  * ``{time}`` : will be replaced with current time in HH:MM format
+  * ``{day}`` : will be replaced with the name of the current weekday (e.g. "Monday")
+  * ``{month}`` : will be replaced with the name of the current month (e.g. "January")
+  * ``{year}`` : will be replaced with the current year (e.g. "2022")
+
+Event reference for plugins
+===========================
+
+If you are writing a plugin, you probably need to subscribe to some events (as shown
+in `this example plugin <https://github.com/eriknyquist/nedry/blob/master/example_plugins/echo_mentions_example.py>`_).
+This section enumerates al available event types in ``nedry.event_types.events``, along
+with their expected arguments and a brief description:
+
+.. list-table:: nedry.event_types.EventType
+   :widths: 30 30 30
+   :header-rows: 1
+
+   * - Event
+     - Event arguments
+     - Event description
+
+   * - DISCORD_MESSAGE_RECEIVED
+     - (message)
+
+       "message" is the discord.py message object (see
+       `discord.py docs <https://discordpy.readthedocs.io/en/stable/api.html#discord.Message>`__)
+     - Emitted whenever any discord message is received, either in a public channel
+       which the bot has access to, or in a DM with the bot.
+
+   * - DISCORD_BOT_MENTION
+     - (message, text_without_mention)
+
+       "message" is the discord.py message object (see
+       `discord.py docs <https://discordpy.readthedocs.io/en/stable/api.html#discord.Message>`__).
+       "text_without_mention" is the message text with the bot mention stripped out.
+     - Emitted whenever any discord message that starts with a mention of the bots
+       discord name is received, either in a public channel which the bot has access
+       to, or in a DM with the bot. Only mentions which are not followed by a command are
+       included here, there is a separate event for commands, BOT_COMMAND_RECEIVED
+
+   * - NEW_DISCORD_MEMBER
+     - (member)
+
+       "member" is the discord.py User object of the member who joined
+       (see `discord.py docs <https://discordpy.readthedocs.io/en/stable/api.html#discord.User>`__).
+     - Emitted whenever a new user joins the discord server.
+
+   * - DISCORD_CONNECTED
+     - No arguments
+     - Emmitted whenever the bot is connected to the configured discord server
+       (this can take up to a few seconds after startup)
+
+   * - BOT_COMMAND_RECEIVED
+     - (message, text_without_mention)
+
+       "message" is the discord.py message object (see
+       `discord.py docs <https://discordpy.readthedocs.io/en/stable/api.html#discord.Message>`__)
+       "text_without_mention" is the message text with the bot mention stripped out.
+
+     - Emitted whenever a message starting with a bot mention followed by the command
+       prefix character ("!") is received, either in a public channel which the bot has
+       access to, or in a DM with the bot. Event is emitted before the command is handled.
+
+   * - BOT_SENDING_MESSAGE
+     - (channel, message_text)
+
+       "channel" is the discord.py Channel object for the channel the message is being sent on
+       (see `discord.py docs <https://discordpy.readthedocs.io/en/stable/api.html#discord.TextChannel>`_).
+       "message_text" is the message that will be sent to the channel.
+
+     - Emitted whenever the bot is about to send a message to public channel or to a DM.
+
+   * - TWITCH_STREAM_STARTED
+     - (name, url)
+
+       "name" is the Twitch name of the streamer who started streaming.
+       "url" is the Twitch URL of the stream that started.
+     - Emitted whenever one of the streamers configured for monitoring starts streaming.
+
+   * - TWITCH_STREAM_ENDED
+     - (name, url)
+
+       "name" is the Twitch name of the streamer who stopped streaming.
+       "url" is the Twitch URL of the stream that ended.
+     - Emitted whenever one of the streamers configured for monitoring stops streaming.
+
+   * - HOST_STREAM_STARTED
+     - No arguments
+     - Emitted when the configured host streamer starts streaming
+
+   * - HOST_STREAM_ENDED
+     - No arguments
+     - Emitted when the configured host streamer stops streaming
+
+Reporting problems
+==================
+
+If you find a problem or a typo please report it by `creating a new issue on Github <https://github.com/eriknyquist/nedry/issues>`_.
+
+Contributions
+=============
+
+Contributions are welcome, please `open a pull request on Github <https://github.com/eriknyquist/nedry/pulls>`_.
+
+Bot command reference
+=====================
+
+Command ``help``
+----------------
+
+::
+
+
+   help [command]
+
+   Shows helpful information about the given command. Replace [command] with the
+   command you want help with.
+
+
+   Example:
+
+   @BotName !help wiki
+
+   All discord users may use this command.
+
+
+Command ``info``
+----------------
+
+::
+
+
+   info
+
+   Show general information about the bot, including but not limited to;
+
+   - Python package version
+   - Uptime (how long the bot has been running for)
+   - Installed plugins, both enabled and disabled
+
+   Example:
+
+   @BotName !help info
+
+   All discord users may use this command.
+
+
+Command ``quote``
+-----------------
+
+::
+
+
+   quote
+
+   Displays a random famous quote
+
+   Example:
+
+   @BotName !quote
+
+   All discord users may use this command.
+
+
+Command ``timezone``
+--------------------
+
+::
+
+
+   timezone [timezone_name]
+
+   Set the timezone for the author of the discord message, allowing this
+   discord user to provide/see dates and times in their local timezone.
+
+   [timezone_name] should be replaced with the name of a timezone from the IANA
+   time zone database, or some substring, e.g. "london" or "los angeles". If you
+   live in a big city, then often just typing the name of the city here will be
+   enough. If you are having issues, however, try selecting your region on
+   this IANA timezone map, and using the country/city name that is shown in
+   the drop-down selection box: https://kevalbhatt.github.io/timezone-picker
+
+   Sending this command with no arguments will query the timezone currently
+   assigned to the author of the discord message.
+
+   Example:
+
+   @BotName !timezone           # Query timezone setting for this discord user
+   @BotName !timezone london    # Set timezone for this discord user to "Europe/London"
+
+   All discord users may use this command.
+
+
+Command ``streamers``
+---------------------
+
+::
+
+
+   streamers
+
+   Shows a list of streamers currently being monitored.
+
+   Example:
+
+   @BotName !streamers
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``addstreamers``
+------------------------
+
+::
+
+
+   addstreamers [name] ...
+
+   Adds one or more new streamers to list of streamers being monitored. Replace
+   [name] with the twitch name(s) of the streamer(s) you want to monitor.
+
+   Example:
+
+   @BotName !addstreamers streamer1 streamer2 streamer3
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``removestreamers``
+---------------------------
+
+::
+
+
+   removestreamers [name] ...
+
+   Removes one or more streamers from the  list of streamers being monitored. Replace [name]
+   with the twitch name(s) of the streamer(s) you want to remove.
+
+   Example:
+
+   @BotName !removestreamers streamer1 streamer2 streamer3
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``clearallstreamers``
+-----------------------------
+
+::
+
+
+   clearallstreamers
+
+   Clears the list of streamers currently being monitored.
+
+   Example:
+
+   @BotName !clearallstreamers
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``phrases``
+-------------------
+
+::
+
+
+   phrases
+
+   Shows a numbered list of phrases currently in use for stream announcements.
+
+   Example:
+
+   @BotName !phrases
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``testphrases``
+-----------------------
+
+::
+
+
+   testphrases
+
+   Shows all phrases currently in use for stream announcements, with the format tokens
+   populated, so you can see what they will look like when posted to the discord channel.
+
+   Example:
+
+   @BotName !testphrases
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``addphrase``
+---------------------
+
+::
+
+
+   addphrase [phrase]
+
+   Adds a new phrase to be used for stream annnouncements. The following format
+   tokens may be used within a phrase:
+
+       {streamer_name} : replaced with the streamer's twitch name
+       {stream_url}    : replaced with the stream URL on twitch.tv
+       {botname}       : replaced with bot name that is seen by other discord users
+       {date}          : replaced with current date in DD/MM/YYY format
+       {times}         : replaced with current time in HH:MM:SS format
+       {time}          : replaced with current time in HH:MM format
+       {day}           : replaced with the name of the current weekday (e.g. "Monday")
+       {month}         : replaced with the name of the current month (e.g. "January")
+       {year}          : replaced with the current year (e.g. "2022")
+
+   Example:
+
+   @BotName !addphrase "{streamer_name} is now streaming at {stream_url}!"
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``removephrases``
+-------------------------
+
+::
+
+
+   removephrases [number] [number] ...
+
+   Removes one or more phrases from the list of phrases being used for stream announcements.
+   [number] must be replaced with the number for the desired phrase, as shown in the
+   numbered list produced by the 'phrases' command. In other words, in order to remove
+   a phrase, you must first look at the output of the "phrases" command to get the
+   number of the phrase you want to remove.
+
+   Example:
+
+   @BotName !removephrases 3 4 5
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``nocompetition``
+-------------------------
+
+::
+
+
+   nocompetition [enabled]
+
+   [enabled] must be replaced with either 'true' or 'false'. If true, then no
+   announcements about other streams will be made while the host streamer is streaming.
+   If false, then announcements will always be made, even if the host streamer is streaming.
+
+   (To check if nocompetition is enabled, run the command with no true/false argument)
+
+   Examples:
+
+   @BotName !nocompetition true     (enable nocompetition)
+   @BotName !nocompetition false    (enable nocompetition)
+   @BotName !nocompetition          (check current state)
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``cmdhistory``
+----------------------
+
+::
+
+
+   cmdhistory [entry_count]
+
+   Show the last few entries in the command log file. If no count is given then the
+   last 25 entries are shown.
+
+   Examples:
+
+   @BotName !cmdhistory     (show last 25 entries)
+   @BotName !cmdhistory 5   (show last 5 entries)
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``say``
+---------------
+
+::
+
+
+   say [stuff to say]
+
+   Causes the bot to send a message in the announcements channel, immediately, containing
+   whatever you type in place of [stuff to say].
+
+   Example:
+
+   @BotName !say Good morning
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``plugins``
+-------------------
+
+::
+
+
+   plugins
+
+   Show all loaded plugins, and show which ones are currently enabled
+
+   Example:
+
+   @BotName !help wiki
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``plugson``
+-------------------
+
+::
+
+
+   plugson [plugin_name] [plugin_name] ...
+
+   Enable / turn on one or more plugins by name (plugin names can be seen in the
+   output of the 'plugins' command, surrounded by square braces e.g. "[]").
+
+   Example:
+
+   @BotName !pluginon knock_knock_jokes other_plugin
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``plugsoff``
+--------------------
+
+::
+
+
+   plugsoff [plugin_name] [plugin_name] ...
+
+   Disable / turn off one or more plugins by name (plugin names can be seen in the
+   output of the 'plugins' command, surrounded by square braces e.g. "[]").
+
+   Example:
+
+   @BotName !pluginoff knock_knock_jokes other_plugin
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``pluginfo``
+--------------------
+
+::
+
+
+   pluginfo [plugin_name]
+
+   Query information about a loaded plugin.
+
+   Example:
+
+   @BotName !pluginfo knock_knock_jokes
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``twitchclientid``
+--------------------------
+
+::
+
+
+   twitchclientid [client_id_string] [client_secret_string]
+
+   Sets the client ID and client secret used to interact with the Twitch API.
+   Replace [client_id_string] with the client ID string for your twitch application.
+   Replace [client_secret_string] with the client secret string for your twitch application.
+
+   Example:
+
+   @BotName !help twitchclientid XXXXXXXXXXXX YYYYYYYYYYYY
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``announcechannel``
+---------------------------
+
+::
+
+
+   announcechannel [discord_channel_name]
+
+   Sets the discord channel where stream announcements will be posted. If no discord
+   channel name is provided, then the name of the current stream announcements channel
+   will be returned.
+
+   Example:
+
+   @BotName !announcechannel                # Query current channel name
+   @BotName !announcechannel my-channel     # Set announcements channel to 'my-channel'
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``joke``
+----------------
+
+::
+
+
+   joke
+
+   Tells an interactive knock-knock joke.
+
+   You can also *tell* knock-knock jokes to the bot, and it will remember new jokes
+   to tell them back to you later when you send this command.
+
+   Any discord users can tell jokes to the bot, but only jokes told by users listed
+   in 'discord_joke_tellers' in the configuration file will be remembered.
+
+   Example:
+
+   @BotName !joke
+
+   All discord users may use this command.
+
+
+Command ``wiki``
+----------------
+
+::
+
+
+   wiki [search text]
+
+   Search the provided text using Wikipedia's public API, and return the summary text
+   (generally the first paragraph) of the first page in the search results. If no search
+   text is provided, then a random Wikipedia article will be selected instead.
+
+   Examples:
+
+   @BotName !wiki python language   (Show summary of wiki page for Python programming language)
+   @BotName !wiki                   (Show summary of a random wiki page)
+
+   All discord users may use this command.
+
+
+Command ``mock``
+----------------
+
+::
+
+
+   mock [mention]
+
+   Repeat the last thing said by a specific user in a "mocking" tone. Replace [mention]
+   with a mention of the discord user you want to mock.
+
+   Example:
+
+   @BotName !mock @discord_user
+
+   All discord users may use this command.
+
+
+Command ``apologize``
+---------------------
+
+::
+
+
+   apologize [mention]
+
+   Apologize to a specific user for having mocked them. Replace [mention]
+   with a mention of the discord user you want to apologize to.
+
+   Example:
+
+   @BotName !apologize @discord_user
+
+   All discord users may use this command.
+
+
+Command ``apologise``
+---------------------
+
+::
+
+
+   apologise [mention]
+
+   Apologize to a specific user for having mocked them. Replace [mention]
+   with a mention of the discord user you want to apologize to.
+
+   Example:
+
+   @BotName !apologize @discord_user
+
+   All discord users may use this command.
+
+
+Command ``schedule``
+--------------------
+
+::
+
+
+   schedule [channel_name] [message_text] in|on|at [time_description]
+
+   Set up a message to be sent by the bot in a specific discord channel after a specific
+   time delay.
+
+   [channel_name] should be replaced with name of the discord channel in which you
+   want the message to be sent.
+
+   [message_text] should be replaced with whatever text you want to be sent in the discord message.
+
+   [time_description] should be replaced with a description of the desired time before
+   the message is delivered to the channel. The time can be described in one of the following ways:
+
+   - An absolute delay period written in english, using digits (e.g. "5") instead of
+     words (e.g. "five") for number values. For example: "1 minute", "2 hours and 3 minutes",
+     "2hrs3mins", "2 hours & 3 minutes"
+
+   - A specific date and time, written in one of the following formats:
+
+     * DD/MM/YYYY HH:MM
+     * YYYY/MM/DD HH:MM
+     * HH:MM DD/MM/YYYY
+     * HH:MM YYYY/MM/DD
+
+     NOTE: if you are using a specific date/time, you should first tell the bot which
+     timezone you are in using the "!timezone" command. That way, you can provide dates/times
+     in your local timezone. You only have to set your timezone once, the bot will
+     remember it (see "@BotName !help timezone" for more details about how to set your timezone).
+
+   Sending the command with no arguments returns the list of currently scheduled messages.
+
+   Examples:
+
+   @BotName !schedule                                    # Query currently scheduled messages
+   @BotName !schedule jokes haha! in 2 hours             # Schedule message to "jokes" in 2 hours
+   @BotName !schedule news raining :( in 1h & 10m        # Schedule message to "news" in 1 hour, 10 mins
+   @BotName !schedule general howdy! at 17:02 23/10/2025 # Schedule message to "general" at specific date & time
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``unschedule``
+----------------------
+
+::
+
+
+   unschedule [message_number] [message_number] ...
+   unschedule all
+   unschedule last
+
+   Remove one or more scheduled messages by number. [message_number] should be replaced
+   with the number of the message you want to remove, as shown by the output of running the
+   '!schedule' command with no arguments.
+
+   Alternatively, instead of passing numbers, you can pass a single argument of "all"
+   to remove all scheduled messages at once, or "last" to remove the most recently
+   added scheduled message.
+
+   Examples:
+
+   @BotName !unschedule last          # Remove last added message
+   @BotName !unschedule all           # Remove all messages
+   @BotName !unschedule 2             # Remove message #2
+   @BotName !unschedule 5 6           # Remove messages 5 and 6
+
+   Only discord users registered in 'discord_admin_users' in the bot configuration file may use this command.
+
+
+Command ``remindme``
+--------------------
+
+::
+
+
+   remindme [reminder_text] in|on|at [time_description]
+
+   Set up a reminder. After the specified time, the bot will send you a DM with whatever
+   text you provided for [reminder_text].
+
+   [reminder_text] should be replaced with whatever text you want in the reminder message,
+   e.g. the thing that you want to be reminded of.
+
+   [time_description] should be replaced with a description of the desired time before
+   the reminder is delivered. The time can be described in one of the following ways:
+
+   - An absolute delay period written in english, using digits (e.g. "5") instead of
+     words (e.g. "five") for number values. For example: "1 minute", "2 hours and 3 minutes",
+     "2hrs3mins", "2 hours & 3 minutes"
+
+   - A specific date and time, written in one of the following formats:
+
+     * DD/MM/YYYY HH:MM
+     * YYYY/MM/DD HH:MM
+     * HH:MM DD/MM/YYYY
+     * HH:MM YYYY/MM/DD
+
+     NOTE: if you are using a specific date/time, you should first tell the bot which
+     timezone you are in using the "!timezone" command. That way, you can provide dates/times
+     in your local timezone. You only have to set your timezone once, the bot will
+     remember it (see "@BotName !help timezone" for more details about how to set your timezone).
+
+   Sending the command with no arguments returns the list of active reminders
+   for the user that sent the command.
+
+   Examples:
+
+   @BotName !remindme                                           # Query current reminders for me
+   @BotName !remindme To take out the trash... in 12 hours      # schedule reminder in 12 hours
+   @BotName !remindme to take a shower :D in 1 day and 5 mins   # Schedule reminder in 1 day and 5 minutes
+   @BotName !remindme to brush my teeth on 22/4/2025 14:30      # Schedule reminder at specific date & time
+
+   All discord users may use this command.
+
+
+Command ``unremind``
+--------------------
+
+::
+
+
+   unremind [reminder_number] [reminder_number] ...
+   unremind all
+   unremind last
+
+   Remove one or more reminders by number. [reminder_number] should be replaced with the
+   number of the reminder you want to remove, as shown by the output of running the
+   '!remindme' command with no arguments.
+
+   Alternatively, instead of passing numbers, you can pass a single argument of "all"
+   to remove all reminders at once, or "last" to remove the last reminder that you scheduled.
+
+   Examples:
+
+   @BotName !unremind last          # Remove last added reminder
+   @BotName !unremind all           # Remove all reminders
+   @BotName !unremind 2             # Remove reminder #2
+   @BotName !unremind 5 6           # Remove reminders 5 and 6
+
+   All discord users may use this command.
+
+
+Command ``trivia``
+------------------
+
+::
+
+
+   trivia [time_limit]
+
+   Fetch a trivia question from opentdb.com and allow all discord users to provide
+   an answer until the time limit is up. Whoever provides the correct answer first
+   gets 2 points, and any other correct answers that came after that get 1 point.
+   If the correct answer is not provided, then no points are awarded.
+
+   [time_limit] should be replaced with the desired time limit for the question, in seconds.
+   This parameter is optional; if no time limit is provided then a time limit of 60 seconds
+   will be used.
+
+   Example:
+
+   @BotName !trivia
+
+   All discord users may use this command.
+
+
+Command ``triviascores``
+------------------------
+
+::
+
+
+   triviascores
+
+   Shows total score for all discord users who have ever answered a trivia question correctly.
+   The first correct answer to a trivia question gets 2 points, and all other correct answers
+   get 1 point.
+
+   Example:
+
+   @BotName !triviascores
+
+   All discord users may use this command.
+
+
+Command ``story``
+-----------------
+
+::
+
+
+   story new|add|continue|show|stop [optional story contribution text]
+
+   Interact with the story being written on the current discord channel.
+
+   The first argument to this command may be one of the following 5 operations:
+
+   new      - Start a new story in this channel.
+
+   add      - Contribute the next part of the story being written on this channel.
+              [optional story contribution text] should be replaced with your desired
+              text for the next part of the story.
+
+   continue - Instead of starting a new story with a random prompt, add to an existing
+              story by providing the whole story. [optional story contribution text]
+              should be replaced with the text of the story that you want to continue.
+              (Note: if your story is too large to fit in a single discord message,
+              you may need to start with a smaller portion of the story, and afterwards
+              add the remaining text using the '!story add' command)
+
+   show     - Show the current story as written so far.
+
+   stop     - Stop the story writing session, and show the story as written so far.
+
+   Examples:
+
+   @BotName !story new                            (Provide a random prompt to start a new story)
+   @BotName !story add And then he fell down...   (Contribute to the current story)
+   @BotName !story continue Call me Ishmael       (Start new story with provided text, no prompt)
+   @BotName !story show                           (Show the story as written so far)
+   @BotName !story stop                           (Stop the story)
+
+   All discord users may use this command.
+
+
+Command ``socialcredit``
+------------------------
+
+::
+
+
+   socialcredit [top]
+
+   Show your social credit score.
+
+   The scoring algorithm is designed to favour users who interact regularly with the
+   server, as long as those interactions are not "spread thinly" throughout the server.
+
+   For example, posting a lot of messages in a single channel every day may make your score go up,
+   but posting one message in all channels very infrequently may make your score go down.
+
+   Using the command with no arguments shows your own social credit score. Using the command
+   with a single argument of "top" (e.g. "!socialcredit top") shows the 10 users with the highest
+   social credit score.
+
+   Example:
+
+   @BotName !socialcredit                 # Show your social credit score
+   @BotName !socialcredit top             # Show highest 10 scores
+
+   All discord users may use this command.
+
```

## Comparing `nedry-2.4.1.dist-info/RECORD` & `nedry-2.4.2.dist-info/RECORD`

 * *Files 13% similar despite different names*

```diff
@@ -1,28 +1,26 @@
-nedry/__init__.py,sha256=K2prQsJi7bP079rdtQbhaOQO9CkuAk9NUVhvOMi5xu0,358
-nedry/__main__.py,sha256=oDyVUyQvYA-E0bgUqSF1xPCrL1VLnhuFlE8t4prIi0c,3412
-nedry/command_processor.py,sha256=YapcR6q4pWT4ZzgtA321aNbdecy2iyVfrkZBBocqTrA,31589
-nedry/config.py,sha256=9inW9Lpk2Rp6vMd_6GWjYao0HzbIMRmdnm8XUcxYhos,4319
+nedry/__init__.py,sha256=bEvYqNwzg5VtGK5XXjbgNn09C0Z7kXpbDtCFIYFiDC4,358
+nedry/__main__.py,sha256=k-R6HI9FIxAHd2TaWcgCs2qaJ9Dip4aa7QsHXTuymbI,3379
+nedry/command_processor.py,sha256=68wpeOHbmDRW_mzMVXO3Ti7VslztZJ2OblbpUU860gk,32150
+nedry/config.py,sha256=5GaOVa-CoQ3J4CkGQZSy9MrVqj_h_4hvCKQcXqqujOE,3545
 nedry/discord_bot.py,sha256=brHv8rN0AEbpuhIqCjGikJ01o-1lSWwRcCztRbsOI6A,9817
 nedry/event_types.py,sha256=ZgNVb6_W5RmKPtLaGsD6H233vujckJ9SxlGmNfCTZ4U,1407
 nedry/events.py,sha256=jFXpwbKrR7RgFa1_ROzJYRSHRplWFNLga2Bzf-Ro7BQ,3010
-nedry/plugin.py,sha256=EEwX-qZtNiL_lHB1qWfhkDRmu2MVCJKxjN4fyJclS5M,6423
+nedry/plugin.py,sha256=WBubUN1_2upba7OzfNbO0RyoDmpGlcMDAON58yZKk0k,6432
 nedry/quotedb.json,sha256=It9GFJ7xm5K_mb-_HzOChfOUf_tZOyPtQvFkYe2ZIl4,581924
 nedry/quotes.py,sha256=7xRACEOmbL5X3Y3rln54ZpxJ8l5_jhlXCQ0G64ocf-g,4811
-nedry/scheduler.py,sha256=FSs5Bb1MyEedXarJfNaxRUm551uCPWh8c8J1KF7bBzs,5926
-nedry/twitch_monitor.py,sha256=mkHRTh8Q9PRm8rBbEzNE12qu5St8GtRWVVcF7cd5D1I,6490
+nedry/twitch_monitor.py,sha256=IHfxECSVQl2kXA9UJcZfxEJbwMz8AG0K7dKvgAq16Lk,6322
 nedry/utils.py,sha256=WnNaP3XLCheLqv3mERIegPsiLAwS3o5iBnEiyt-3TJc,4452
 nedry/builtin_plugins/__init__.py,sha256=rVlSnmBgKA7HizgAqGJ9R7dweS26F5rYSw4aQAw1XoM,480
-nedry/builtin_plugins/birthdays.py,sha256=v2N8BKF3EVX-fdHwATfD3HKEzNGChgvQX306a9LQJ94,1110
 nedry/builtin_plugins/knock_knock_jokes.py,sha256=u4fkB88bR1lmG3M0PaBpxnhGQMjqbARKTccJnaO8EOQ,9239
 nedry/builtin_plugins/mock.py,sha256=qseVdjJ1pj7jeqRixSs1gfg-lGW9JlFBgsxrmJqSssw,7379
 nedry/builtin_plugins/schedule.py,sha256=2pHcPvS0aeJuK52DYvDmhEDU7ZqWTKRb7FzamY7AKXA,26701
-nedry/builtin_plugins/social_credit.py,sha256=Voj8e4qgnuNSNaRhSgVIEauMchuBMItwWQ9ZW8ljPTk,8658
+nedry/builtin_plugins/social_credit.py,sha256=UYqueIP7OdH7Pk2aoVST60yK3sYkQrxZ9A9ChXffdPU,7967
 nedry/builtin_plugins/stories.py,sha256=rFmSTPeHadKMFZmId01nkMw7VMqmqHbRmJGpJu487nM,9184
 nedry/builtin_plugins/trivia.py,sha256=xNxEnJXRhMVb7711HbbQt6KQ4W4HXBGH_mwA6d7a7OU,10994
 nedry/builtin_plugins/wiki.py,sha256=32Xe5s3RM0o7vwZLAtKHG6qPC75ysjep8Zg9zI297cQ,3951
 nedry/builtin_plugins/writing_prompts.txt,sha256=39XXUggDB11JTo9dUXYGuPT2mrG6h6dWFCE0NBiTnQM,24820
-nedry-2.4.1.dist-info/LICENSE,sha256=5oeZCRPd-Ap4MGk4v3I_GbvsKJC4qlmm6UmOEM4YsQM,11346
-nedry-2.4.1.dist-info/METADATA,sha256=xbhSg9ATKTXnkGoN2AmAXm43GzRs-ovV7aqfQNSaYlk,41556
-nedry-2.4.1.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-nedry-2.4.1.dist-info/top_level.txt,sha256=Bib7xQ_X34vLDWjLcYtQtFHi6g_m1zFSUuJD_k1qtJc,6
-nedry-2.4.1.dist-info/RECORD,,
+nedry-2.4.2.dist-info/LICENSE,sha256=5oeZCRPd-Ap4MGk4v3I_GbvsKJC4qlmm6UmOEM4YsQM,11346
+nedry-2.4.2.dist-info/METADATA,sha256=6S-sMJRDj9_CGZ1zPikwpnYFPK5ZoBhGMmy7y7j2TPI,42963
+nedry-2.4.2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+nedry-2.4.2.dist-info/top_level.txt,sha256=Bib7xQ_X34vLDWjLcYtQtFHi6g_m1zFSUuJD_k1qtJc,6
+nedry-2.4.2.dist-info/RECORD,,
```

